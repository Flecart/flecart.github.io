<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Analisi di ConvessitÃ  | X. Angelo Huang&#39;s Blog</title>
<meta name="keywords" content="no-tags">
<meta name="description" content="Ripasso Prox: 20 Ripasso: May 22, 2022 Ultima modifica: October 8, 2022 12:08 PM Primo Abbozzo: May 2, 2022 3:23 PM Stato: ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ• Studi Personali: No
Questo argomento Ã¨ stato trattato durante dopo la discussione dei Massimi minimi multi-variabile, perÃ² Ã¨ stato ripreso anche nella forma R to R, quindi credo necessiti di un foglio a parte.
Affine set Lines Let&rsquo;s take two points in $\mathbb{R}$ $x_{1}, x_{2}$, if we consider the parametrization $$ x = \theta x_{1} &#43; (1 - \theta)x_{2} $$ This is a parametrization of the line">
<meta name="author" content="Xuanqiang &#39;Angelo&#39; Huang">
<link rel="canonical" href="https://flecart.github.io/notes/analisi-di-convessit%C3%A0/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://flecart.github.io/favicon-192x192.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://flecart.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://flecart.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://flecart.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://flecart.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://flecart.github.io/notes/analisi-di-convessit%C3%A0/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-WW6NN2QGKF"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-WW6NN2QGKF', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Analisi di ConvessitÃ " />
<meta property="og:description" content="Ripasso Prox: 20 Ripasso: May 22, 2022 Ultima modifica: October 8, 2022 12:08 PM Primo Abbozzo: May 2, 2022 3:23 PM Stato: ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ• Studi Personali: No
Questo argomento Ã¨ stato trattato durante dopo la discussione dei Massimi minimi multi-variabile, perÃ² Ã¨ stato ripreso anche nella forma R to R, quindi credo necessiti di un foglio a parte.
Affine set Lines Let&rsquo;s take two points in $\mathbb{R}$ $x_{1}, x_{2}$, if we consider the parametrization $$ x = \theta x_{1} &#43; (1 - \theta)x_{2} $$ This is a parametrization of the line" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://flecart.github.io/notes/analisi-di-convessit%C3%A0/" />
<meta property="og:image" content="https://flecart.github.io/images/papermod-cover.png" />
<meta property="article:section" content="notes" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://flecart.github.io/images/papermod-cover.png" />
<meta name="twitter:title" content="Analisi di ConvessitÃ "/>
<meta name="twitter:description" content="Ripasso Prox: 20 Ripasso: May 22, 2022 Ultima modifica: October 8, 2022 12:08 PM Primo Abbozzo: May 2, 2022 3:23 PM Stato: ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ• Studi Personali: No
Questo argomento Ã¨ stato trattato durante dopo la discussione dei Massimi minimi multi-variabile, perÃ² Ã¨ stato ripreso anche nella forma R to R, quindi credo necessiti di un foglio a parte.
Affine set Lines Let&rsquo;s take two points in $\mathbb{R}$ $x_{1}, x_{2}$, if we consider the parametrization $$ x = \theta x_{1} &#43; (1 - \theta)x_{2} $$ This is a parametrization of the line"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Notes",
      "item": "https://flecart.github.io/notes/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Analisi di ConvessitÃ ",
      "item": "https://flecart.github.io/notes/analisi-di-convessit%C3%A0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Analisi di ConvessitÃ ",
  "name": "Analisi di ConvessitÃ ",
  "description": "Ripasso Prox: 20 Ripasso: May 22, 2022 Ultima modifica: October 8, 2022 12:08 PM Primo Abbozzo: May 2, 2022 3:23 PM Stato: ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ• Studi Personali: No\nQuesto argomento Ã¨ stato trattato durante dopo la discussione dei Massimi minimi multi-variabile, perÃ² Ã¨ stato ripreso anche nella forma R to R, quindi credo necessiti di un foglio a parte.\nAffine set Lines Let\u0026rsquo;s take two points in $\\mathbb{R}$ $x_{1}, x_{2}$, if we consider the parametrization $$ x = \\theta x_{1} + (1 - \\theta)x_{2} $$ This is a parametrization of the line",
  "keywords": [
    "no-tags"
  ],
  "articleBody": "Ripasso Prox: 20 Ripasso: May 22, 2022 Ultima modifica: October 8, 2022 12:08 PM Primo Abbozzo: May 2, 2022 3:23 PM Stato: ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ• Studi Personali: No\nQuesto argomento Ã¨ stato trattato durante dopo la discussione dei Massimi minimi multi-variabile, perÃ² Ã¨ stato ripreso anche nella forma R to R, quindi credo necessiti di un foglio a parte.\nAffine set Lines Letâ€™s take two points in $\\mathbb{R}$ $x_{1}, x_{2}$, if we consider the parametrization $$ x = \\theta x_{1} + (1 - \\theta)x_{2} $$ This is a parametrization of the line\nExample: Def: affine set A combination where the coefficients add up to 1. We can say that this set is unique given two points.\nExample: solution of $\\left{ x \\mid Ax = b \\right}$ is an affine set (easy to prove). It can be proven that every affine set is a solution of such set of algorithms\nConvex sets Itâ€™s an affine set, where $0 \\leq \\theta \\leq 1$. Sometimes itâ€™s written like $\\left[ x_{1}, x_{2} \\right]$. Sometimes this is called a convex combination of the two values.\nEvery element of the set sees each other clearly, this is the intuitive notion of the convex sets Convex combination Given $x_{1}, x_{2}, \\dots, x_{k}$ then a convex combination is (sometimes called mixture, or weighted average, or expectation)\n$$ x = \\theta_{1}x_{1} + \\dots + \\theta_{n}x_{n} $$ Where $\\theta_{1} + \\dots + \\theta_{n} = 1, \\theta_{i} \\geq 0$\nConvex Hull Itâ€™s the convex combination of all points in $S$. (so itâ€™s defined by the borders usually). It can be viewed as the Smallest convex set that contains a set of points!\nConvex Cone Here we don Â´t have the requirement that it all sums to one. so $x_{1}, x_{2}$, the convex cone is the set of points such that exists $\\theta_{1}, \\theta_{2}$ that $$ x = \\theta_{1}x_{1} + \\theta_{2}x_{2} $$\nProper:\nClosed (contains borders) Has an interior (some point in the middle of the borders). Doesnâ€™t contain lines (pointed) Itâ€™s convex Norm Cone $$ \\left{ (x, t) \\mid \\lVert x \\rVert \\leq t \\right} $$ Also known as Lorentz cone (probably used for things related to relativity).\nPositive Semidefinite Cone Let $S^{n}$ be the set of symmetric matrices with $n$ elements, of dimension $\\frac{(n + 1)n}{2}$. $S^{n}_{++}$ denotes the positive definite set, with one $+$ indicating semidefinite. Sublevel set $f: \\mathbb{R}^{n} \\to \\mathbb{R}$ such that:\n$$ C_{\\alpha} = \\left{ x \\in dom f \\mid f(x) \\leq \\alpha \\right} $$ Itâ€™s a function that itâ€™s the best limited to a certain value $\\alpha \\in \\mathbb{R}$\nEpigraph of function $$ epi f = \\left{ (x , t) \\in \\mathbb{R}^{n + 1} \\mid x \\in dom f, f(x) \\leq t \\right} $$\nitâ€™s the part of the function that is bigger or equal to the function.\nRelation with convex functions the function $f$ is convex iff $epi f$ is a convex set. So if $f$ creates a convex set above it, we can say itâ€™s convex, this is a bridge between functions and geometry.\nConvessitÃ  e ConcavitÃ  Definizione di convessitÃ  Funzione $f : \\mathbb{R}^{n} \\to \\mathbb{R}$ Ã¨ convessa se vale, con $0 \\leq \\theta \\leq 1$ $$ f(\\theta x + (1 - \\theta)y) \\leq \\theta f(x) + (1 - \\theta) f(y) $$ Concavo se $-f$ Ã¨ convesso\nLâ€™approccio seguente Ã¨ quella fatta in analisi, ma Ã¨ abbastanza brutta. Ãˆ convessa se la derivata seconda Ã¨ diversa da 0, ma non Ã¨ una buona definizione perchÃ© non Ã¨ direttamente relazionata con la concavitÃ .\nPossiamo definire la funzione secondo le tangenti, potremmo dire che la retta tangente sia sempre minore del grafico, in altro modo Ã¨ una forma di tailor!\n$f: A \\to R$ tale che f sia derivabile, allora se prendo un intervallo $(a,b) \\subseteq A$ posso dire che la funzione Ã¨ convessa in questo intervallo se $\\forall x,k \\in (a,b)$ ottengo che\n$f(x) \\geq f(k) + fâ€™(k)(x -k) = T_1(x)$\nDefinizione vera Non vorremmo avere una definizione che dipenda dallâ€™esistenza della derivata, quindi sia f una funzione ben definita, allora Ã¨ convessa sse $\\exists m$ nel dominio per cui valga che $f(x) \\geq f(y) + m(x - y)$\nOppure:\nDefinizione secondo libro (con i segmenti)\nAllora cerchiamo una definizione migliore:\nsia $f : \\mathbb{R}^n \\to \\mathbb{R}$ allora questa funzione si dice convessa sse $\\forall t \\in [0,1]$ si ha che\n$\\forall a,b \\in \\R^n: f(tb + (1 - t)a) \\leq t f(b) + (1-t) f(a)$ se vale con $\u003c$ posso dire che Ã¨ strettamente convessa.\nIntuizione:\nComunque prenda un punto allâ€™interno di un intervallo ho che la funzione valutata in questo punto Ã¨ minore della somma della congiungente di questi due punti.\nExamples of convex and concave functions Convex function to a line Consider $g(t) = f(x + tv)$ where the domain of $g$ are the $t$ such that $x + vt$ are in the domain of $f$. Then $f$ is convex iff $g$ is.\nFirst-order condition in $\\mathbb{R}$ Questo Ã¨ un risultato molto simile a quanto ottenuto con le funzioni crescenti e la loro derivata prima, che si puÃ² trovare in Teoremi Base Analisi.\nEnunciato Sia una funzione $f: \\mathbb{R} \\to \\mathbb{R}$, allora $f$ Ã¨ convessa sse la sua derivata prima Ã¨ $\u003e0$.\nLa dimostrazione Ã¨ abbastanza diretta quindi la si omette. (perÃ² la dovresti fare lo stesso perchÃ© Ã¨ importante).\nHintini di dimostrazione $\\implies$ Supponiamo che f sia convessa, allora vale quella formula in definizione, voglio dimostrare che la derivata sia crescente. (scrivo quella definizione due volte e ottengo qualcosa del tipo $0 \\geq$ intervallo * (intervallo funzione, e si puÃ² risolvere senza molti problemi ottenendo il voluto, bisogna fare soprattutto attenzione a come definisci questi indici se vuoi andare a farlo in modo formale. $\\impliedby$ Supponiamo che la derivata sia crescente, allora poi vado ad utilizzare lagrange (due volte, prima con un intervallo x y tale che $x \u003c y$ e poi il contrario) fatto questo utilizzo la crescenza della derivata per concludere Corollario Possiamo utilizzare il risultato sopra per concludere che una funzione Ã¨ convessa sse la derivata seconda Ã¨ maggiore uguale a 0 (si possono utilizzare i teoremi riguardante le relazioni fra derivate e crescenza per questa).\nSegmento in Rn e convessitÃ  di punti Dati due punti in $\\mathbb{R}^n$ si puÃ² individuare il segmento in due punti $x, y$ come lâ€™insieme costituito da\n${x + t (y - x) | t \\in [0,1]} = [x, y]$\nSI puÃ² verificare che che Ã¨ uguale alla linea che li collega, in particolare Ã¨ una retta parametrica. Avendo questa definizione di segmento, posso andare a definire lâ€™insieme convesso per Rn!.\nConvessitÃ  di un insieme di punti\nUn insieme di punti si dice convesso se $\\forall a, b \\in A \\subseteq \\mathbb{R}^n, [a,b] \\subseteq A$ (e la definizione di insieme concavo non esiste, potremmo dire non convesso, ma non che sia concavo).\nAvendo questo si puÃ² dimostrare che lâ€™intersezione di semipiani Ã¨ convesso.\nFirst-order condition in $\\mathbb{R}^{n}$ Possiamo allargare la definizione di funzione convessa che abbiamo dato poco fa in modo che ora sia buona anche a funzioni di piÃ¹ variabili.\nf una funzione ben definita, allora Ã¨ convessa sse $\\forall a,b \\in A$ si ha che\n$f(a) \\geq f(b) + \\nabla f(b)^{T}(a - b)$ e per parlare di funzione concava basta rovesciare la disuguaglianza.\nQuesta formula da lâ€™idea che la funzione deve essere sempre sopra al piano tangente per ogni punto! Si puÃ² vedere come primo ordine Taylor approx ad un certo punto.\nSecond-order condition in $\\mathbb{R}^{n}$ sia $A \\subseteq \\mathbb{R}^n$ che sia aperto e convesso, sia $f\\in C^2(A) \\to \\mathbb{R}$ allora $f$ Ã¨ convessa su A $\\iff$ $Hf(x) \\geq 0, \\forall x \\in A$.\nNon Ã¨ definito ora il concetto di crescenza per un gradiente, o vettore, quindi vogliamo passare prima sul gradiente. Una funzione Ã¨ convessa sse la matrice hessiana Ã¨ semi-definita positiva. Sia la espansione di taylor come lâ€™abbiamo definita prima (con resto secondo Lagrange). PuÃ² essere utile dare un occhiata al teorema di Lagrange al secondo ordine a piÃ¹ dimensioni prima\n$f(w + vt) = f(w) + \\langle \\nabla f(w), v \\rangle t + \\dfrac{1}{2}\\langle Hf(c)v,v\\rangle t^2$\nDimostrazione $\\impliedby$ Dato che $\\dfrac{1}{2}\\langle Hf(c)v,v\\rangle t^2 \\geq 0$ posso conclude la convessitÃ  (ossia la disuguaglianza appare abbastanza in fretta) $\\implies$ Assumiamo ora la convessitÃ , vogliamo dimostrare che la hessiana sia semidefinita positiva. Per lâ€™espansione di taylor ho che $f(a + h) = f(a) + \\langle\\nabla f(a), h\\rangle + \\dfrac{1}{2}\\langle H(f(a + \\theta h)) h, h\\rangle$ definendo a, h e theta correttamente. Per la convessitÃ  ho che $f(a + h) \\geq f(a) + \\langle\\nabla f(a), h \\rangle$ e questo vale $\\forall h : a + h \\in A$ Ma allora so che $\\dfrac{1}{2}\\langle H(f(a + \\theta h)) h, h\\rangle \\geq 0$ (perchÃ© altrimenti ci sarebbe un valore in input per cui nonvale la condizione di convessitÃ .\nDevo dimostrare che $v \\in \\mathbb{R}^n \\neq 0 : a + v \\in A$, $\\langle H(f(a)) v, v\\rangle \\geq 0$, scelgo una successione in questo modo: $h_k = 1/k \\cdot v$ che tende a 0 per k che tende a infinito. Definito in questo modo ho che câ€™Ã¨ un theta per cui valga $\\dfrac{1}{2}\\langle H(f(a + \\theta v/k)) v/k, v/k\\rangle \\geq 0 \\iff \\dfrac{1}{2}\\langle H(f(a + \\theta v/k)) v, v\\rangle \\geq 0$ arrivato a questo punto mando k allâ€™infintio e utilizzo\nPer continuitÃ  ho che il limite $\\lim_{k \\to \\infty}$ Ã¨ uguale a $\\langle H(f(a)) v, v\\rangle$ la permanenza del segno per concludere il voluto (se ogni elemento della successione Ã¨ maggiore di 0 allora anche il limite a cui sta tendendo Ã¨ maggiore di 0)\nHow to know if a set is convex Definition application Try to prove the #Convex combination theorem. Aka, $\\forall x_{1}, x_{2} \\in C, 0 \\leq \\theta \\leq 1 \\implies \\theta x_{1} + (1 - \\theta)x_{2} \\in C$ But this is the last resort, not advised by prof. Stephen Boyd\nComposition of convex-preserving operations If we can create the $C$ by using this composition we can still have a convex set!\nIntersection is convex The intersection of convex sets is convex\nThis is easily provable.\nExample of interesting case: Consider $p(t) = x_{1}\\cos t + \\dots + x_{n}\\cos nt$ The set $\\left{ x \\in \\mathbb{R}^{n} \\mid \\lvert p(t) \\rvert \\leq 1 : t \\in \\left[ 0, \\frac{\\pi}{3} \\right] \\right}$ is convex. (Itâ€™s easy to show that this is an intersection of slabs (see lecture 2, the idea is beautiful, although not formally defined or proved, but it seems intuitive!))\nAffine functions are convex preserving Affine functions preserve convex sets\nIf we apply an affine function (that is just linear function + $b$) aka : $f(x) = Ax + b$. Because the inverse of affine is affine (if it exist), also the inverse of affine functions are inverse. This is easy to prove too.\nPerspective functions are convex preserving $P : \\mathbb{R}^{n + 1} \\to \\mathbb{R}^{n}$ is a perspective function (lower dimensional!)\nFor example a function is $P(x, t) = \\frac{x}{t}$\nImages and inverse images of convex sets under perspective are convex\nNot sure why is it true.\nAffine-fractional functions are convex preserving $$ f(x) = \\frac{Ax + b}{c^{T}x + d} $$ Example of these functions are mapping from 3D in computer geometry to flat camera views. Teoremi importanti Jensen Questo Ã¨ uno dei teoremi legati alla convessitÃ  (concavitÃ  piÃ¹ usati in assoluto). Una applicazione classica Ã¨ per il il valore atteso, analizzato in Variabili aleatorie e simili. La cosa carina Ã¨ che lui non lâ€™ha inventato, ma ha detto che tipo 14 tizi stavano usando sta cosa, senza chiamarla per nessun nome, quindi lâ€™ha popolarizzato.\nSia $f$ una funzione convessa in un intervallo $[a, b] \\subseteq \\mathbb{R}$, allora vale che $$ f(\\lambda a + (1 - \\lambda)b) \\leq \\lambda f(a) + (1 - \\lambda) f(b) $$ Questa Ã¨ la formulazione semplice, ma si puÃ² estendere per qualunque combinazione convessa dellâ€™input (per combinazione convessa di $a_{1}, a_{2}, \\dots, a_{n}$ intendo $a_{1}\\lambda_{1} + \\dots + a_{n}\\lambda_{n}$ dei parametri $\\lambda_{1}, \\lambda_{2}, \\dots, \\lambda_{n}$ tale per cui $\\sum_{i=1}^{n}\\lambda_{i} = 1$).\nNon so bene la dimostrazione, ma lâ€™intuizione Ã¨ abbastanza semplice in due variabili, se combini due punti su una retta sopra la funzione, questa sarÃ  maggiore del valore che ricevi combinando gli input, dato che Ã¨ convessa Ã¨ una funzione ad $U$.\nJensen for quasi convex functions $$ f(\\lambda a + (1 - \\lambda)b) \\leq \\max (f(a), f(b)) $$\nConvexity preserving operations Pointwise Supremum If we take the max of some convex functions, this max is convex. (Itâ€™s intuitive if we see the max as the intersection of the epi sets of the functions!) In maths:, given convex functions\nSame with the infimum we can say that if $f(x, y)$ is convex for $(x, y) \\in C$ then $$ g(x) = \\inf_{y \\in C} f(x, y) $$ Is convex, sometimes called partial minimization. (partial maximization is convex too!). This could be used to prove something about shurâ€™s complement but I donâ€™t remember it.\nComposition of scalar functions Given $f : \\mathbb{R}^{n} \\to \\mathbb{R}$ and $h : \\mathbb{R} \\to \\mathbb{R}$ then the function $f = h(g(x))$ is convex if $g$ and $h$ is and $\\hbar$ is nondecreasing. Also if $g$ is concave and $\\hbar$ is nonincreasing.\nA good way to remember this is proving it for $n=1$ and itâ€™s differentiable so you can get it back.\nThis argument is extendable to multiple dimensions, the same conditions hold, just for different indexes.\nGiven $g: \\mathbb{R}^{n} \\to \\mathbb{R}^{k}$ and $h: \\mathbb{R}^{k} \\to \\mathbb{R}$ Then $f(x) = h(g(x)) = h(g_{1}(x), \\dots, g_{k}(x))$ is convex is\n$g_{i}$ is convex, $h$ is convex and $\\hbar$ is nondecreasing in each argument $g_{i}$ is concave, $h$ is convex and $\\hbar$ is nonincreasing in each argument. Easy to prove something like $\\sum -\\log(x_{i})$ is convex. This is a more general test than the others.\nPerspective functions the perspective of $f: \\mathbb{R}^{n} \\to \\mathbb{R}$ is a function $g: \\mathbb{R}^{n} \\times \\mathbb{R} \\to \\mathbb{R}$ $$ g(x, t) = tf(x / t) $$ Where the domain of $g$ is $\\left[ (x , t) \\mid x / t \\in dom f, t \u003e 0 \\right]$\nIf a function $f$ is convex, so is itâ€™s perspective!\nConjugate function The conjugate function of $f$ is $$ f^{*}(y) = \\sup_{x \\in dom f} (y^{T}x - f(x)) $$\nAnd this function is convex, even if $f$ is not! The intuition is that this is the supremum of an affine function, so it should be more intuitive that that is linear! Usually when we are talking about conjugates, we expect that the conjugate of the conjugate is the original thing. In this case, it not true. In this case itâ€™s the convex envelope, but itâ€™s not important here.\nQuasi-convex function $f$ quasi convex if $dom f$ sub-level sets are convex for all $\\alpha$. (remember the sub-level sets are the parts in the domain such that are less than a value). The intuition is that if the function goes below a certain threshold, it does it only once in the whole domain.\n",
  "wordCount" : "2478",
  "inLanguage": "en",
  "image": "https://flecart.github.io/images/papermod-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Xuanqiang 'Angelo' Huang"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://flecart.github.io/notes/analisi-di-convessit%C3%A0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "X. Angelo Huang's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://flecart.github.io/favicon-192x192.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://flecart.github.io/" accesskey="h" title="X. Angelo Huang&#39;s Blog (Alt + H)">X. Angelo Huang&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://flecart.github.io/notes/" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://flecart.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://flecart.github.io/notes/">Notes</a></div>
    <h1 class="post-title entry-hint-parent">
      Analisi di ConvessitÃ 
    </h1>
    <div class="post-meta">12 min&nbsp;Â·&nbsp;Xuanqiang &#39;Angelo&#39; Huang

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#affine-set" aria-label="Affine set">Affine set</a><ul>
                        
                <li>
                    <a href="#lines" aria-label="Lines">Lines</a></li>
                <li>
                    <a href="#def-affine-set" aria-label="Def: affine set">Def: affine set</a></li></ul>
                </li>
                <li>
                    <a href="#convex-sets" aria-label="Convex sets">Convex sets</a><ul>
                        
                <li>
                    <a href="#convex-combination" aria-label="Convex combination">Convex combination</a></li>
                <li>
                    <a href="#convex-hull" aria-label="Convex Hull">Convex Hull</a></li>
                <li>
                    <a href="#convex-cone" aria-label="Convex Cone">Convex Cone</a></li>
                <li>
                    <a href="#norm-cone" aria-label="Norm Cone">Norm Cone</a></li>
                <li>
                    <a href="#positive-semidefinite-cone" aria-label="Positive Semidefinite Cone">Positive Semidefinite Cone</a></li>
                <li>
                    <a href="#sublevel-set" aria-label="Sublevel set">Sublevel set</a></li>
                <li>
                    <a href="#epigraph-of-function" aria-label="Epigraph of function">Epigraph of function</a></li>
                <li>
                    <a href="#relation-with-convex-functions" aria-label="Relation with convex functions">Relation with convex functions</a></li></ul>
                </li></ul>
                    
                <li>
                    <a href="#convessit%c3%a0-e-concavit%c3%a0" aria-label="ConvessitÃ  e ConcavitÃ ">ConvessitÃ  e ConcavitÃ </a><ul>
                        
                <li>
                    <a href="#definizione-di-convessit%c3%a0" aria-label="Definizione di convessitÃ ">Definizione di convessitÃ </a><ul>
                        
                <li>
                    <a href="#examples-of-convex-and-concave-functions" aria-label="Examples of convex and concave functions">Examples of convex and concave functions</a></li></ul>
                </li>
                <li>
                    <a href="#convex-function-to-a-line" aria-label="Convex function to a line">Convex function to a line</a></li>
                <li>
                    <a href="#first-order-condition-in-mathbbr" aria-label="First-order condition in $\mathbb{R}$">First-order condition in $\mathbb{R}$</a></li>
                <li>
                    <a href="#segmento-in-rn-e-convessit%c3%a0-di-punti" aria-label="Segmento in Rn e convessitÃ  di punti">Segmento in Rn e convessitÃ  di punti</a></li>
                <li>
                    <a href="#first-order-condition-in-mathbbrn" aria-label="First-order condition in $\mathbb{R}^{n}$">First-order condition in $\mathbb{R}^{n}$</a></li>
                <li>
                    <a href="#second-order-condition-in-mathbbrn" aria-label="Second-order condition in $\mathbb{R}^{n}$">Second-order condition in $\mathbb{R}^{n}$</a></li></ul>
                </li>
                <li>
                    <a href="#how-to-know-if-a-set-is-convex" aria-label="How to know if a set is convex">How to know if a set is convex</a><ul>
                        
                <li>
                    <a href="#definition-application" aria-label="Definition application">Definition application</a></li>
                <li>
                    <a href="#composition-of-convex-preserving-operations" aria-label="Composition of convex-preserving operations">Composition of convex-preserving operations</a><ul>
                        
                <li>
                    <a href="#intersection-is-convex" aria-label="Intersection is convex">Intersection is convex</a></li>
                <li>
                    <a href="#affine-functions-are-convex-preserving" aria-label="Affine functions are convex preserving">Affine functions are convex preserving</a></li>
                <li>
                    <a href="#perspective-functions-are-convex-preserving" aria-label="Perspective functions are convex preserving">Perspective functions are convex preserving</a></li>
                <li>
                    <a href="#affine-fractional-functions-are-convex-preserving" aria-label="Affine-fractional functions are convex preserving">Affine-fractional functions are convex preserving</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#teoremi-importanti" aria-label="Teoremi importanti">Teoremi importanti</a><ul>
                        
                <li>
                    <a href="#jensen" aria-label="Jensen">Jensen</a></li>
                <li>
                    <a href="#jensen-for-quasi-convex-functions" aria-label="Jensen for quasi convex functions">Jensen for quasi convex functions</a></li></ul>
                </li>
                <li>
                    <a href="#convexity-preserving-operations" aria-label="Convexity preserving operations">Convexity preserving operations</a><ul>
                        
                <li>
                    <a href="#pointwise-supremum" aria-label="Pointwise Supremum">Pointwise Supremum</a></li>
                <li>
                    <a href="#composition-of-scalar-functions" aria-label="Composition of scalar functions">Composition of scalar functions</a></li>
                <li>
                    <a href="#perspective-functions" aria-label="Perspective functions">Perspective functions</a></li>
                <li>
                    <a href="#conjugate-function" aria-label="Conjugate function">Conjugate function</a></li>
                <li>
                    <a href="#quasi-convex-function" aria-label="Quasi-convex function">Quasi-convex function</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Ripasso Prox: 20
Ripasso: May 22, 2022
Ultima modifica: October 8, 2022 12:08 PM
Primo Abbozzo: May 2, 2022 3:23 PM
Stato: ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ•ðŸŒ•
Studi Personali: No</p>
<p>Questo argomento Ã¨ stato trattato durante dopo la discussione dei <a href="//notes/massimi-minimi-multi-variabile">Massimi minimi multi-variabile</a>, perÃ² Ã¨ stato ripreso anche nella forma R to R, quindi credo necessiti di un foglio a parte.</p>
<h3 id="affine-set">Affine set<a hidden class="anchor" aria-hidden="true" href="#affine-set">#</a></h3>
<h4 id="lines">Lines<a hidden class="anchor" aria-hidden="true" href="#lines">#</a></h4>
<p>Let&rsquo;s take two points in $\mathbb{R}$ $x_{1}, x_{2}$, if we consider the parametrization
$$
x = \theta x_{1} + (1 - \theta)x_{2}
$$
This is a parametrization of the line</p>
<p>Example:
<img src="/images/notes/Analisi di ConvessitÃ -20240327184319876.webp" alt="Analisi di ConvessitÃ -20240327184319876"></p>
<h4 id="def-affine-set">Def: affine set<a hidden class="anchor" aria-hidden="true" href="#def-affine-set">#</a></h4>
<p>A combination where the coefficients <strong>add up to</strong> 1.
We can say that this set is unique given two points.</p>
<p>Example: solution of $\left{ x \mid Ax = b \right}$ is an affine set (easy to prove).
It can be proven that every affine set is a solution of such set of algorithms</p>
<h3 id="convex-sets">Convex sets<a hidden class="anchor" aria-hidden="true" href="#convex-sets">#</a></h3>
<p>It&rsquo;s an affine set, where $0 \leq \theta \leq 1$. Sometimes it&rsquo;s written like $\left[ x_{1}, x_{2} \right]$. Sometimes this is called a <strong>convex combination</strong> of the two values.</p>
<ul>
<li>Every element of the set <em>sees</em> each other clearly, this is the intuitive notion of the convex sets
<img src="/images/notes/Analisi di ConvessitÃ -20240327184850815.webp" alt="Analisi di ConvessitÃ -20240327184850815"></li>
</ul>
<h4 id="convex-combination">Convex combination<a hidden class="anchor" aria-hidden="true" href="#convex-combination">#</a></h4>
<p>Given $x_{1}, x_{2}, \dots, x_{k}$ then a convex combination is (sometimes called mixture, or weighted average, or expectation)</p>
<p>$$
x = \theta_{1}x_{1} + \dots + \theta_{n}x_{n}
$$
Where $\theta_{1} + \dots + \theta_{n} = 1, \theta_{i} \geq 0$</p>
<h4 id="convex-hull">Convex Hull<a hidden class="anchor" aria-hidden="true" href="#convex-hull">#</a></h4>
<p>It&rsquo;s the convex combination of all points in $S$. (so it&rsquo;s defined by the borders usually).
It can be viewed as the Smallest convex set that contains a set of points!</p>
<h4 id="convex-cone">Convex Cone<a hidden class="anchor" aria-hidden="true" href="#convex-cone">#</a></h4>
<p>Here we don Â´t have the requirement that it all sums to one.
so $x_{1}, x_{2}$, the convex cone is the set of points such that exists $\theta_{1}, \theta_{2}$ that
$$
x = \theta_{1}x_{1} + \theta_{2}x_{2}
$$</p>
<p><strong>Proper:</strong></p>
<ol>
<li><strong>Closed</strong> (contains borders)</li>
<li>Has an <strong>interior</strong> (some point in the middle of the borders).</li>
<li>Doesn&rsquo;t contain lines (<strong>pointed</strong>)</li>
<li>It&rsquo;s <strong>convex</strong></li>
</ol>
<h4 id="norm-cone">Norm Cone<a hidden class="anchor" aria-hidden="true" href="#norm-cone">#</a></h4>
<p>$$
\left{ (x, t) \mid \lVert x \rVert  \leq t \right}
$$
Also known as Lorentz cone (probably used for things related to relativity).</p>
<h4 id="positive-semidefinite-cone">Positive Semidefinite Cone<a hidden class="anchor" aria-hidden="true" href="#positive-semidefinite-cone">#</a></h4>
<p>Let $S^{n}$ be the set of symmetric matrices with $n$ elements, of dimension $\frac{(n + 1)n}{2}$. $S^{n}_{++}$ denotes the positive definite set, with one $+$ indicating semidefinite.
<img src="/images/notes/Norme e Condizionamento-20240327205850487.webp" alt="Norme e Condizionamento-20240327205850487"></p>
<h4 id="sublevel-set">Sublevel set<a hidden class="anchor" aria-hidden="true" href="#sublevel-set">#</a></h4>
<p>$f: \mathbb{R}^{n} \to \mathbb{R}$ such that:</p>
<p>$$
C_{\alpha} = \left{ x \in dom f \mid f(x) \leq \alpha \right}
$$
It&rsquo;s a function that it&rsquo;s the best limited to a certain value $\alpha \in \mathbb{R}$</p>
<h4 id="epigraph-of-function">Epigraph of function<a hidden class="anchor" aria-hidden="true" href="#epigraph-of-function">#</a></h4>
<p>$$
epi f = \left{ (x , t) \in \mathbb{R}^{n + 1} \mid x \in dom f, f(x) \leq t \right}
$$</p>
<p>it&rsquo;s the part of the function that is <strong>bigger or equal to the function</strong>.</p>
<h4 id="relation-with-convex-functions">Relation with convex functions<a hidden class="anchor" aria-hidden="true" href="#relation-with-convex-functions">#</a></h4>
<p>the function $f$ is convex iff $epi f$  is a convex set.
So if $f$ creates a convex set above it, we can say it&rsquo;s convex, this is a bridge between functions and geometry.</p>
<h2 id="convessitÃ -e-concavitÃ ">ConvessitÃ  e ConcavitÃ <a hidden class="anchor" aria-hidden="true" href="#convessitÃ -e-concavitÃ ">#</a></h2>
<h3 id="definizione-di-convessitÃ ">Definizione di convessitÃ <a hidden class="anchor" aria-hidden="true" href="#definizione-di-convessitÃ ">#</a></h3>
<p>Funzione $f : \mathbb{R}^{n} \to \mathbb{R}$ Ã¨ convessa se vale, con $0 \leq \theta \leq 1$
$$
f(\theta x + (1 - \theta)y) \leq \theta f(x) + (1 - \theta) f(y)
$$
<strong>Concavo</strong> se $-f$ Ã¨ convesso</p>
<p>L&rsquo;approccio seguente Ã¨ quella fatta in analisi, ma Ã¨ abbastanza brutta.
Ãˆ convessa se la derivata seconda Ã¨ diversa da 0, ma non Ã¨ una buona definizione perchÃ© non Ã¨ direttamente relazionata con la concavitÃ .</p>
<p>Possiamo definire la funzione secondo le tangenti, potremmo dire che la retta tangente sia sempre minore del grafico, in altro modo Ã¨ una forma di tailor!</p>
<p>$f: A \to R$ tale che f sia derivabile, allora se prendo un intervallo $(a,b) \subseteq A$ posso dire che la funzione Ã¨ convessa in questo intervallo se $\forall x,k \in (a,b)$ ottengo che</p>
<p>$f(x) \geq f(k) + f&rsquo;(k)(x -k) = T_1(x)$</p>
<p><strong>Definizione vera</strong>
Non vorremmo avere una definizione che dipenda dall&rsquo;esistenza della derivata, quindi
sia f una funzione ben definita, allora Ã¨ convessa sse $\exists m$  nel dominio per cui valga che
$f(x) \geq f(y) + m(x - y)$</p>
<p>Oppure:</p>
<ul>
<li>
<p>Definizione secondo libro (con i segmenti)</p>
<p>Allora cerchiamo una definizione migliore:</p>
<p>sia $f : \mathbb{R}^n \to \mathbb{R}$ allora questa funzione si dice convessa sse $\forall t \in [0,1]$ si ha che</p>
<p>$\forall a,b \in \R^n: f(tb + (1 - t)a) \leq t f(b) + (1-t) f(a)$ se vale con $&lt;$ posso dire che Ã¨ <em>strettamente convessa.</em></p>
<p><strong>Intuizione:</strong></p>
<p>Comunque prenda un punto all&rsquo;interno di un intervallo ho che la funzione valutata in questo punto Ã¨ minore della somma della congiungente di questi due punti.</p>
</li>
</ul>
<h4 id="examples-of-convex-and-concave-functions">Examples of convex and concave functions<a hidden class="anchor" aria-hidden="true" href="#examples-of-convex-and-concave-functions">#</a></h4>
<img src="/images/notes/Analisi di ConvessitÃ -20240328135038638.webp" alt="Analisi di ConvessitÃ -20240328135038638">
<h3 id="convex-function-to-a-line">Convex function to a line<a hidden class="anchor" aria-hidden="true" href="#convex-function-to-a-line">#</a></h3>
<p>Consider $g(t) = f(x + tv)$ where the domain of $g$ are the $t$ such that $x + vt$ are in the domain of $f$.
Then $f$ is convex iff $g$ is.</p>
<h3 id="first-order-condition-in-mathbbr">First-order condition in $\mathbb{R}$<a hidden class="anchor" aria-hidden="true" href="#first-order-condition-in-mathbbr">#</a></h3>
<p>Questo Ã¨ un risultato molto simile a quanto ottenuto con le funzioni crescenti e la loro derivata prima, che si puÃ² trovare in <a href="//notes/teoremi-base-analisi">Teoremi Base Analisi</a>.</p>
<p><strong>Enunciato</strong>
Sia una funzione $f: \mathbb{R} \to \mathbb{R}$, allora $f$ Ã¨ <strong>convessa</strong> sse la sua derivata prima Ã¨ $&gt;0$.</p>
<p>La dimostrazione Ã¨ abbastanza diretta quindi la si omette. (perÃ² la dovresti fare lo stesso perchÃ© Ã¨ importante).</p>
<ul>
<li>Hintini di dimostrazione
$\implies$ Supponiamo che f sia convessa, allora vale quella formula in definizione, voglio  dimostrare che la derivata sia crescente. (scrivo quella definizione due volte e ottengo qualcosa del tipo $0 \geq$  intervallo * (intervallo funzione, e si puÃ² risolvere senza molti problemi ottenendo il voluto, bisogna fare soprattutto attenzione a come definisci questi indici se vuoi andare a farlo in modo formale.
$\impliedby$ Supponiamo che la derivata sia crescente, allora poi vado ad utilizzare lagrange (due volte, prima con un intervallo x y tale che $x &lt; y$ e poi il contrario) fatto questo utilizzo la crescenza della derivata per concludere</li>
</ul>
<p><strong>Corollario</strong>
Possiamo utilizzare il risultato sopra per concludere che una funzione Ã¨ convessa sse la derivata seconda Ã¨ maggiore uguale a 0 (si possono utilizzare i teoremi riguardante le relazioni fra derivate e crescenza per questa).</p>
<h3 id="segmento-in-rn-e-convessitÃ -di-punti">Segmento in Rn e convessitÃ  di punti<a hidden class="anchor" aria-hidden="true" href="#segmento-in-rn-e-convessitÃ -di-punti">#</a></h3>
<p>Dati due punti in $\mathbb{R}^n$ si puÃ² individuare il segmento in due punti $x, y$ come l&rsquo;insieme costituito da</p>
<p>${x + t (y - x) | t \in [0,1]} = [x, y]$</p>
<p>SI puÃ² verificare che che Ã¨ uguale alla linea che li collega, in particolare Ã¨ una <strong>retta parametrica</strong>.
Avendo questa definizione di segmento, posso andare a definire l&rsquo;insieme convesso per Rn!.</p>
<p><strong>ConvessitÃ  di un insieme di punti</strong></p>
<p>Un insieme di punti si dice convesso se $\forall a, b \in A \subseteq \mathbb{R}^n, [a,b] \subseteq A$ (e la definizione di insieme concavo non esiste, potremmo dire non convesso, ma non che sia concavo).</p>
<p>Avendo questo si puÃ² dimostrare che l&rsquo;intersezione di semipiani Ã¨ convesso.</p>
<h3 id="first-order-condition-in-mathbbrn">First-order condition in $\mathbb{R}^{n}$<a hidden class="anchor" aria-hidden="true" href="#first-order-condition-in-mathbbrn">#</a></h3>
<p>Possiamo allargare la definizione di funzione convessa che abbiamo dato poco fa in modo che ora sia buona anche a funzioni di piÃ¹ variabili.</p>
<p>f una funzione ben definita, allora Ã¨ convessa sse $\forall a,b \in A$ si ha che</p>
<p>$f(a) \geq f(b) + \nabla f(b)^{T}(a - b)$ e per parlare di funzione concava basta rovesciare la disuguaglianza.</p>
<p>Questa formula da l&rsquo;idea che la funzione deve essere sempre sopra al piano tangente per ogni punto!
Si puÃ² vedere come <em>primo ordine Taylor approx</em> ad un certo punto.</p>
<h3 id="second-order-condition-in-mathbbrn">Second-order condition in $\mathbb{R}^{n}$<a hidden class="anchor" aria-hidden="true" href="#second-order-condition-in-mathbbrn">#</a></h3>
<p>sia $A \subseteq \mathbb{R}^n$ che sia aperto e convesso, sia $f\in C^2(A) \to \mathbb{R}$ allora
$f$ Ã¨ convessa su A $\iff$ $Hf(x) \geq 0, \forall x \in A$.</p>
<p>Non Ã¨ definito ora il concetto di crescenza per un gradiente, o vettore, quindi vogliamo passare prima sul gradiente.
Una funzione Ã¨ convessa sse la matrice hessiana Ã¨ semi-definita positiva.
Sia la espansione di taylor come l&rsquo;abbiamo definita prima (con resto secondo Lagrange).
PuÃ² essere utile dare un occhiata al teorema di Lagrange al secondo ordine a piÃ¹ dimensioni prima</p>
<p>$f(w + vt) = f(w) + \langle \nabla f(w), v \rangle t + \dfrac{1}{2}\langle Hf(c)v,v\rangle t^2$</p>
<ul>
<li>
<p>Dimostrazione
$\impliedby$
Dato che $\dfrac{1}{2}\langle Hf(c)v,v\rangle t^2 \geq 0$ posso conclude la convessitÃ  (ossia la disuguaglianza appare abbastanza in fretta)
$\implies$ Assumiamo ora la convessitÃ , vogliamo dimostrare che la hessiana sia semidefinita positiva. Per l&rsquo;espansione di taylor ho che  $f(a + h) = f(a) + \langle\nabla f(a), h\rangle + \dfrac{1}{2}\langle H(f(a + \theta h)) h, h\rangle$ definendo a, h e theta correttamente.
Per la convessitÃ  ho che $f(a + h) \geq f(a) + \langle\nabla f(a), h \rangle$ e questo vale $\forall h : a + h \in A$
Ma allora so che $\dfrac{1}{2}\langle H(f(a + \theta h)) h, h\rangle \geq 0$ (perchÃ© altrimenti ci sarebbe un valore in input per cui nonvale la condizione di convessitÃ .</p>
<p>Devo dimostrare che $v \in \mathbb{R}^n \neq 0 : a + v \in A$, $\langle H(f(a)) v, v\rangle \geq 0$, scelgo una successione in questo modo:
$h_k = 1/k \cdot v$ che tende a 0 per k che tende a infinito.
Definito in questo modo ho che c&rsquo;Ã¨ un theta per cui valga   $\dfrac{1}{2}\langle H(f(a + \theta v/k)) v/k, v/k\rangle \geq 0 \iff \dfrac{1}{2}\langle H(f(a + \theta v/k)) v, v\rangle \geq 0$ arrivato a questo punto mando k all&rsquo;infintio e utilizzo</p>
<p>Per continuitÃ  ho che il limite $\lim_{k \to \infty}$ Ã¨ uguale a  $\langle H(f(a)) v, v\rangle$  la permanenza del segno per concludere il voluto (se ogni elemento della successione Ã¨ maggiore di 0 allora anche il limite a cui sta tendendo Ã¨ maggiore di 0)</p>
</li>
</ul>
<h2 id="how-to-know-if-a-set-is-convex">How to know if a set is convex<a hidden class="anchor" aria-hidden="true" href="#how-to-know-if-a-set-is-convex">#</a></h2>
<h3 id="definition-application">Definition application<a hidden class="anchor" aria-hidden="true" href="#definition-application">#</a></h3>
<p>Try to prove the <a href="/notes/analisi-di-convessit%C3%A0/#convex-combination">#Convex combination</a> theorem.
Aka, $\forall x_{1}, x_{2} \in C, 0 \leq \theta \leq 1 \implies \theta x_{1} + (1 - \theta)x_{2} \in C$
But this is the last resort, not advised by prof. Stephen Boyd</p>
<h3 id="composition-of-convex-preserving-operations">Composition of convex-preserving operations<a hidden class="anchor" aria-hidden="true" href="#composition-of-convex-preserving-operations">#</a></h3>
<p>If we can create the $C$ by using this composition we can still have a convex  set!</p>
<h4 id="intersection-is-convex">Intersection is convex<a hidden class="anchor" aria-hidden="true" href="#intersection-is-convex">#</a></h4>
<blockquote>
<p>The intersection of convex sets is convex</p>
</blockquote>
<p>This is easily provable.</p>
<p>Example of interesting case:
Consider $p(t) = x_{1}\cos t + \dots + x_{n}\cos nt$
The set $\left{  x \in \mathbb{R}^{n} \mid \lvert p(t) \rvert \leq 1 : t \in \left[ 0, \frac{\pi}{3} \right] \right}$ is convex. (It&rsquo;s easy to show that this is an intersection of slabs (see lecture 2, the idea is beautiful, although not formally defined or proved, but it seems intuitive!))</p>
<h4 id="affine-functions-are-convex-preserving">Affine functions are convex preserving<a hidden class="anchor" aria-hidden="true" href="#affine-functions-are-convex-preserving">#</a></h4>
<blockquote>
<p>Affine functions preserve convex sets</p>
</blockquote>
<p>If we apply an affine function (that is just linear function + $b$) aka : $f(x) = Ax + b$.
Because the inverse of affine is affine (if it exist), also the inverse of affine functions are inverse.
This is easy to prove too.</p>
<h4 id="perspective-functions-are-convex-preserving">Perspective functions are convex preserving<a hidden class="anchor" aria-hidden="true" href="#perspective-functions-are-convex-preserving">#</a></h4>
<p>$P : \mathbb{R}^{n + 1} \to \mathbb{R}^{n}$ is a perspective function (lower dimensional!)</p>
<p>For example a function is $P(x, t) = \frac{x}{t}$</p>
<blockquote>
<p>Images and inverse images of convex sets under perspective are convex</p>
</blockquote>
<p>Not sure why is it true.</p>
<h4 id="affine-fractional-functions-are-convex-preserving">Affine-fractional functions are convex preserving<a hidden class="anchor" aria-hidden="true" href="#affine-fractional-functions-are-convex-preserving">#</a></h4>
<p>$$
f(x) = \frac{Ax + b}{c^{T}x + d}
$$
Example of these functions are mapping from 3D in computer geometry to flat camera views.
<img src="/images/notes/Analisi di ConvessitÃ -20240327214317752.webp" alt="Analisi di ConvessitÃ -20240327214317752"></p>
<h2 id="teoremi-importanti">Teoremi importanti<a hidden class="anchor" aria-hidden="true" href="#teoremi-importanti">#</a></h2>
<h3 id="jensen">Jensen<a hidden class="anchor" aria-hidden="true" href="#jensen">#</a></h3>
<p>Questo Ã¨ uno dei teoremi legati alla convessitÃ  (concavitÃ  piÃ¹ usati in assoluto). Una applicazione classica Ã¨ per il il valore atteso, analizzato in <a href="//notes/variabili-aleatorie">Variabili aleatorie</a> e simili. La cosa carina Ã¨ che lui non l&rsquo;ha inventato, ma ha detto che tipo 14 tizi stavano usando sta cosa, senza chiamarla per nessun nome, quindi l&rsquo;ha popolarizzato.</p>
<p>Sia $f$ una funzione convessa in un intervallo $[a, b] \subseteq \mathbb{R}$, allora vale che
$$
f(\lambda a + (1 - \lambda)b) \leq \lambda f(a) + (1 - \lambda) f(b)
$$
Questa Ã¨ la formulazione semplice, ma si puÃ² estendere per qualunque combinazione convessa dell&rsquo;input (per combinazione convessa di $a_{1}, a_{2}, \dots, a_{n}$ intendo $a_{1}\lambda_{1} + \dots + a_{n}\lambda_{n}$ dei parametri $\lambda_{1}, \lambda_{2}, \dots, \lambda_{n}$ tale per cui $\sum_{i=1}^{n}\lambda_{i} = 1$).</p>
<p>Non so bene la dimostrazione, ma l&rsquo;intuizione Ã¨ abbastanza semplice in due variabili, se combini due punti su una retta sopra la funzione, questa sarÃ  maggiore del valore che ricevi combinando gli input, dato che Ã¨ convessa Ã¨ una funzione ad $U$.</p>
<h3 id="jensen-for-quasi-convex-functions">Jensen for quasi convex functions<a hidden class="anchor" aria-hidden="true" href="#jensen-for-quasi-convex-functions">#</a></h3>
<p>$$
f(\lambda a + (1 - \lambda)b) \leq \max (f(a), f(b))
$$</p>
<h2 id="convexity-preserving-operations">Convexity preserving operations<a hidden class="anchor" aria-hidden="true" href="#convexity-preserving-operations">#</a></h2>
<h3 id="pointwise-supremum">Pointwise Supremum<a hidden class="anchor" aria-hidden="true" href="#pointwise-supremum">#</a></h3>
<p>If we take the max of some convex functions, this max is convex. (It&rsquo;s intuitive if we see the max as the intersection of the <a href="/notes/analisi-di-convessit%C3%A0/#epigraph-of-function">epi</a> sets of the functions!)
In maths:, given convex functions</p>
<p>Same with the infimum we can say that
if $f(x, y)$ is convex for $(x, y) \in C$ then
$$
g(x) = \inf_{y \in C} f(x, y)
$$
Is convex, sometimes called <strong>partial minimization</strong>. (partial maximization is convex too!).
This could be used to prove something about shur&rsquo;s complement but I don&rsquo;t remember it.</p>
<h3 id="composition-of-scalar-functions">Composition of scalar functions<a hidden class="anchor" aria-hidden="true" href="#composition-of-scalar-functions">#</a></h3>
<p>Given $f : \mathbb{R}^{n} \to \mathbb{R}$ and $h : \mathbb{R} \to \mathbb{R}$ then the function $f = h(g(x))$ is convex if $g$ and $h$ is and $\hbar$ is nondecreasing. Also if $g$ is concave and $\hbar$ is nonincreasing.</p>
<p>A good way to remember this is proving it for $n=1$ and it&rsquo;s differentiable so you can get it back.</p>
<p>This argument is extendable to multiple dimensions, the same conditions hold, just for different indexes.</p>
<p>Given $g: \mathbb{R}^{n} \to \mathbb{R}^{k}$ and $h: \mathbb{R}^{k} \to \mathbb{R}$
Then $f(x) = h(g(x)) = h(g_{1}(x), \dots, g_{k}(x))$ is convex is</p>
<ul>
<li>$g_{i}$ is convex, $h$ is convex and $\hbar$ is nondecreasing in each argument</li>
<li>$g_{i}$ is concave, $h$ is convex and $\hbar$ is nonincreasing in each argument.
Easy to prove something like</li>
<li>$\sum -\log(x_{i})$ is convex.</li>
</ul>
<p>This is a more general test than the others.</p>
<h3 id="perspective-functions">Perspective functions<a hidden class="anchor" aria-hidden="true" href="#perspective-functions">#</a></h3>
<p>the <strong>perspective</strong> of $f: \mathbb{R}^{n} \to \mathbb{R}$ is a function $g: \mathbb{R}^{n} \times \mathbb{R} \to \mathbb{R}$
$$
g(x, t) = tf(x / t)
$$
Where the domain of $g$ is $\left[ (x , t) \mid x / t \in dom f, t &gt; 0 \right]$</p>
<p>If a function $f$ is convex, so is it&rsquo;s perspective!</p>
<h3 id="conjugate-function">Conjugate function<a hidden class="anchor" aria-hidden="true" href="#conjugate-function">#</a></h3>
<p>The conjugate function of $f$ is
$$
f^{*}(y) = \sup_{x \in dom f} (y^{T}x - f(x))
$$</p>
<p>And this function is convex, <strong>even if $f$</strong> is not!
The intuition is that this is the <em>supremum</em> of an affine function, so it should be more intuitive that that is linear!
Usually when we are talking about conjugates, we expect that the conjugate of the conjugate is the original thing. In this case, it <strong>not</strong> true. In this case it&rsquo;s the convex envelope, but it&rsquo;s not important here.</p>
<h3 id="quasi-convex-function">Quasi-convex function<a hidden class="anchor" aria-hidden="true" href="#quasi-convex-function">#</a></h3>
<p>$f$ quasi convex if $dom f$ sub-level sets are convex for all $\alpha$. (remember the sub-level sets are the parts in the domain such that are less than a value).
<img src="/images/notes/Analisi di ConvessitÃ -20240331152618494.webp" width="497" alt="Analisi di ConvessitÃ -20240331152618494"></p>
<p>The intuition is that if the function goes below a certain threshold, it does it only once in the whole domain.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://flecart.github.io/tags/no-tags/">No-Tags</a></li>
    </ul>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Analisi di ConvessitÃ  on x"
            href="https://x.com/intent/tweet/?text=Analisi%20di%20Convessit%c3%a0&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f&amp;hashtags=no-tags">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Analisi di ConvessitÃ  on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f&amp;title=Analisi%20di%20Convessit%c3%a0&amp;summary=Analisi%20di%20Convessit%c3%a0&amp;source=https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Analisi di ConvessitÃ  on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f&title=Analisi%20di%20Convessit%c3%a0">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Analisi di ConvessitÃ  on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Analisi di ConvessitÃ  on whatsapp"
            href="https://api.whatsapp.com/send?text=Analisi%20di%20Convessit%c3%a0%20-%20https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Analisi di ConvessitÃ  on telegram"
            href="https://telegram.me/share/url?text=Analisi%20di%20Convessit%c3%a0&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Analisi di ConvessitÃ  on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Analisi%20di%20Convessit%c3%a0&u=https%3a%2f%2fflecart.github.io%2fnotes%2fanalisi-di-convessit%25C3%25A0%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://flecart.github.io/">X. Angelo Huang&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
