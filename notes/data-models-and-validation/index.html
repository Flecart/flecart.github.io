<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Data Models and Validation | X. Angelo Huang&#39;s Blog</title>
<meta name="keywords" content="📓big-data">
<meta name="description" content="
A data model is an abstract view over the data that hides the way it is stored physically.
The same idea from (Codd 1970)
This is why we should not modify data directly, but pass though some abstraction that maintain the properties of that specific data model.
Data Models
Tree view
We can view all JSON and XML data, as presented in Markup, as trees. This structure is usually quite evident, as it is inherent in their design. Converting from the tree structure to a memory model is known as serialization, while the reverse process is called parsing.">
<meta name="author" content="
By Xuanqiang &#39;Angelo&#39; Huang">
<link rel="canonical" href="https://flecart.github.io/notes/data-models-and-validation/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f790d9af969c56c079c1ce2d5972a04486bf3d6144295d5fba319830e1e55a7a.css" integrity="sha256-95DZr5acVsB5wc4tWXKgRIa/PWFEKV1fujGYMOHlWno=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://flecart.github.io/favicon-192x192.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://flecart.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://flecart.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://flecart.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://flecart.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://flecart.github.io/notes/data-models-and-validation/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
      }
    });
  </script>
<script type="text/javascript" async
src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>






      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WW6NN2QGKF"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-WW6NN2QGKF');
        }
      </script><meta property="og:url" content="https://flecart.github.io/notes/data-models-and-validation/">
  <meta property="og:site_name" content="X. Angelo Huang&#39;s Blog">
  <meta property="og:title" content="Data Models and Validation">
  <meta property="og:description" content=" A data model is an abstract view over the data that hides the way it is stored physically.
The same idea from (Codd 1970) This is why we should not modify data directly, but pass though some abstraction that maintain the properties of that specific data model.
Data Models Tree view We can view all JSON and XML data, as presented in Markup, as trees. This structure is usually quite evident, as it is inherent in their design. Converting from the tree structure to a memory model is known as serialization, while the reverse process is called parsing.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="notes">
    <meta property="article:tag" content="📓Big-Data">
      <meta property="og:image" content="https://flecart.github.io/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://flecart.github.io/images/papermod-cover.png">
<meta name="twitter:title" content="Data Models and Validation">
<meta name="twitter:description" content="
A data model is an abstract view over the data that hides the way it is stored physically.
The same idea from (Codd 1970)
This is why we should not modify data directly, but pass though some abstraction that maintain the properties of that specific data model.
Data Models
Tree view
We can view all JSON and XML data, as presented in Markup, as trees. This structure is usually quite evident, as it is inherent in their design. Converting from the tree structure to a memory model is known as serialization, while the reverse process is called parsing.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Notes",
      "item": "https://flecart.github.io/notes/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Data Models and Validation",
      "item": "https://flecart.github.io/notes/data-models-and-validation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Data Models and Validation",
  "name": "Data Models and Validation",
  "description": " A data model is an abstract view over the data that hides the way it is stored physically.\nThe same idea from (Codd 1970) This is why we should not modify data directly, but pass though some abstraction that maintain the properties of that specific data model.\nData Models Tree view We can view all JSON and XML data, as presented in Markup, as trees. This structure is usually quite evident, as it is inherent in their design. Converting from the tree structure to a memory model is known as serialization, while the reverse process is called parsing.\n",
  "keywords": [
    "📓big-data"
  ],
  "articleBody": " A data model is an abstract view over the data that hides the way it is stored physically.\nThe same idea from (Codd 1970) This is why we should not modify data directly, but pass though some abstraction that maintain the properties of that specific data model.\nData Models Tree view We can view all JSON and XML data, as presented in Markup, as trees. This structure is usually quite evident, as it is inherent in their design. Converting from the tree structure to a memory model is known as serialization, while the reverse process is called parsing.\nA key distinction lies in edge labeling for JSON models and node labeling for XML models. Additionally, XML accessors are bidirectional, meaning they include a parent pointer, whereas JSON lacks this feature.\nXML Information Set This is how actually is stored in memory when the XML file is parsed into memory. It’s also quite easy to implement after a standard programming course. There are many other parts of the information set, but we will not cover them in the current course (e.g. Namespaces, comments, are not covered.)\nDocument Information Item The document information item is the root node of the three view; the first element of XML file should be always present even if the doctype declaration is not present, this is the children of this information item.\nElement Information Item This is just the element tag, as it is explained briefly in Markup. Parents could be the root document item, or other information items. It can have attributes, children and the local name (the name of the tag).\nAttribute Information Item Here we have a key (called local name), the value, and the parent, which is the element that owns this attribute.\nText Information Item We just have the text value and the owner for this element.\nValidation Even with a well-formed JSON or XML document, the structure can still be quite disorganized. Imagine a document where values are scattered haphazardly. Our goal should be to impose some order on these documents by providing them with an abstract model of the data. We say that a JSON or XML document adheres to a model when it is correctly validated against that model. In this section, we will explore specific validation modes available for JSON and XML. Usually this validation step is done after the file has been correctly parsed into the memory.\nThere are some advantages in validation, one is the processing speed. With normalized data, we can use some specific data structures tailored to process that format, and store it more efficiently.\nAtomic Types We need to remember that there are some default atomic types for the data model, which are different from the 4 atomic types present in the well-formedness of JSONs.\nStrings Numbers Booleans Null values Dates and times (you need to be careful about month - day division, number of days is dependent of year and months) Time intervals Binary These atomic types are usually common everywhere, but the names could vary. The following is a table that summarizes the various names for different technologies Lexical and Value space All atomic types have in common that they have a logical value space and a lexical value space. The logical value space corresponds to the actual logical abstraction of the type (e.g., a mathematical set of integers), while the lexical value space corresponds to the representation of logical values in a textual format (such as the decimal, or binary, or hexadecimal representation of an integer).\nSo the Value Space is what it wants to represent, while the lexical space is what is actually stored. For example, an image could be stored using base64 encoding.\nStatic and Dynamic schemas Dynamic schemas allow for more flexibility, while static schemas are more rigid. The former are more common in JSON, while XML schemas are just static. For example dynamic schemas can allow for keys that are not defined in the schema if the additionalProperties is set to true.\nJSON Validation There are some specific types in JSON, and we need to know them well. One of the most famous validation frameworks with JSON is JSound (developed at ETH for teaching purposes), you should know the syntax very well for the scope of the course. See slides, for example here. Another checker could be JSON Schema, which is standardized by the W3C.\nStructured Types In this case, there are no additional types beyond the standard array and map values typically found in JSON. The only distinction is that we might need to impose a cardinality constraint.\nThen there are many many ways to describe a requirement for the data model some common ways you need to keep in mind are\nCardinality: How many times a specific element can appear. Requiring presence of a key Open and closed object types (difference between JSound and JSON schema). Primary key constraints, null and present values. (In jsound we have special characters ?, = and @) Any values Type unions and intersections, negation, exclusive. Example of JSON Validation Let’s say we want to build a schema for:\n{ \"name\": \"John Doe\", \"age\": 30, \"email\": \"john.doe@example.com\", \"isEmployee\": true, \"skills\": [\"JavaScript\", \"Python\", \"SQL\"], \"address\": { \"street\": \"123 Main St\", \"city\": \"Zurich\", \"postalCode\": \"8000\" }, \"projects\": [ { \"title\": \"E-commerce Website\", \"durationMonths\": 6 }, { \"title\": \"AI Chatbot\", \"durationMonths\": 4 } ] } Then a possible schema would be:\n{ \"$schema\": \"",
  "wordCount" : "2043",
  "inLanguage": "en",
  "image": "https://flecart.github.io/images/papermod-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Xuanqiang 'Angelo' Huang"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://flecart.github.io/notes/data-models-and-validation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "X. Angelo Huang's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://flecart.github.io/favicon-192x192.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://flecart.github.io/" accesskey="h" title="X. Angelo Huang&#39;s Blog (Alt + H)">X. Angelo Huang&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://flecart.github.io/notes/" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://flecart.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://flecart.github.io/notes/">Notes</a></div>
    <h1 class="post-title entry-hint-parent">
      Data Models and Validation
    </h1>
    <div class="post-meta">Reading Time: 10 minutes&nbsp;·&nbsp;
By Xuanqiang &#39;Angelo&#39; Huang

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#data-models" aria-label="Data Models">Data Models</a><ul>
                        <ul>
                        
                <li>
                    <a href="#tree-view" aria-label="Tree view">Tree view</a></li></ul>
                    
                <li>
                    <a href="#xml-information-set" aria-label="XML Information Set">XML Information Set</a><ul>
                        
                <li>
                    <a href="#document-information-item" aria-label="Document Information Item">Document Information Item</a></li>
                <li>
                    <a href="#element-information-item" aria-label="Element Information Item">Element Information Item</a></li>
                <li>
                    <a href="#attribute-information-item" aria-label="Attribute Information Item">Attribute Information Item</a></li>
                <li>
                    <a href="#text-information-item" aria-label="Text Information Item">Text Information Item</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#validation" aria-label="Validation">Validation</a><ul>
                        
                <li>
                    <a href="#atomic-types" aria-label="Atomic Types">Atomic Types</a><ul>
                        
                <li>
                    <a href="#lexical-and-value-space" aria-label="Lexical and Value space">Lexical and Value space</a></li>
                <li>
                    <a href="#static-and-dynamic-schemas" aria-label="Static and Dynamic schemas">Static and Dynamic schemas</a></li></ul>
                </li>
                <li>
                    <a href="#json-validation" aria-label="JSON Validation">JSON Validation</a><ul>
                        
                <li>
                    <a href="#structured-types" aria-label="Structured Types">Structured Types</a></li>
                <li>
                    <a href="#example-of-json-validation" aria-label="Example of JSON Validation">Example of JSON Validation</a></li></ul>
                </li>
                <li>
                    <a href="#xml-validation" aria-label="XML Validation">XML Validation</a><ul>
                        
                <li>
                    <a href="#xml-types" aria-label="XML Types">XML Types</a></li>
                <li>
                    <a href="#facets" aria-label="Facets">Facets</a></li>
                <li>
                    <a href="#example-of-xml-validation" aria-label="Example of XML validation">Example of XML validation</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#dataframes" aria-label="Dataframes">Dataframes</a><ul>
                        <ul>
                        
                <li>
                    <a href="#what-are-data-frames" aria-label="What are data frames?">What are data frames?</a></li>
                <li>
                    <a href="#two-advantages" aria-label="Two Advantages">Two Advantages</a></li>
                <li>
                    <a href="#homogeneous-vs-heterogeneous" aria-label="Homogeneous vs Heterogeneous">Homogeneous vs Heterogeneous</a></li>
                <li>
                    <a href="#classification-of-data-formats" aria-label="Classification of data formats">Classification of data formats</a></li>
                <li>
                    <a href="#columnar-storage" aria-label="Columnar Storage">Columnar Storage</a></li></ul>
                    </ul>
                </li></ul>
                    
                <li>
                    <a href="#references" aria-label="References">References</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><blockquote>
<p>A data model is an abstract view over the data that hides the way it is stored physically.</p></blockquote>
<p>The same idea from <a href="https://dl.acm.org/doi/10.1145/362384.362685">(Codd 1970)</a>
This is why we should not modify data directly, but pass though some abstraction that maintain the properties of that specific data model.</p>
<h2 id="data-models">Data Models<a hidden class="anchor" aria-hidden="true" href="#data-models">#</a></h2>
<h4 id="tree-view">Tree view<a hidden class="anchor" aria-hidden="true" href="#tree-view">#</a></h4>
<p>We can view all JSON and XML data, as presented in <a href="/notes/markup">Markup</a>, as <strong>trees</strong>. This structure is usually quite evident, as it is inherent in their design. Converting from the tree structure to a memory model is known as serialization, while the reverse process is called <strong>parsing</strong>.</p>
<p>A key distinction lies in <em>edge labeling</em> for JSON models and <em>node labeling</em> for XML models. Additionally, XML accessors are bidirectional, meaning they include a parent pointer, whereas JSON lacks this feature.</p>
<img src="/images/notes/Data Models and Validation-20241029143937029.webp" style="width: 100%" class="center" alt="Data Models and Validation-20241029143937029">
<h3 id="xml-information-set">XML Information Set<a hidden class="anchor" aria-hidden="true" href="#xml-information-set">#</a></h3>
<p>This is how actually is stored in memory when the XML file is parsed into memory.
It&rsquo;s also quite easy to implement after a standard programming course.
There are many other parts of the information set, but we will not cover them in the current course (e.g. Namespaces, comments, are not covered.)</p>
<h4 id="document-information-item">Document Information Item<a hidden class="anchor" aria-hidden="true" href="#document-information-item">#</a></h4>
<p>The document information item is the root node of the three view; the first element of XML file should be always present even if the doctype declaration is not present, this is the children of this information item.</p>
<h4 id="element-information-item">Element Information Item<a hidden class="anchor" aria-hidden="true" href="#element-information-item">#</a></h4>
<p>This is just the element tag, as it is explained briefly in <a href="/notes/markup">Markup</a>. Parents could be the root document item, or other information items. It can have attributes, children and the local name (the name of the tag).</p>
<h4 id="attribute-information-item">Attribute Information Item<a hidden class="anchor" aria-hidden="true" href="#attribute-information-item">#</a></h4>
<p>Here we have a key (called local name), the value, and the parent, which is the element that owns this attribute.</p>
<h4 id="text-information-item">Text Information Item<a hidden class="anchor" aria-hidden="true" href="#text-information-item">#</a></h4>
<p>We just have the text value and the owner for this element.</p>
<h2 id="validation">Validation<a hidden class="anchor" aria-hidden="true" href="#validation">#</a></h2>
<p>Even with a well-formed JSON or XML document, the structure can still be quite disorganized. Imagine a document where values are scattered haphazardly. Our goal should be to impose some order on these documents by providing them with an abstract <strong>model</strong> of the data. We say that a JSON or XML document adheres to a model when it is correctly validated against that model. In this section, we will explore specific validation modes available for JSON and XML. Usually this validation step is done after the file has been correctly parsed into the memory.</p>
<p>There are some advantages in validation, one is the processing speed. With normalized data, we can use some specific data structures tailored to process that format, and store it more efficiently.</p>
<h3 id="atomic-types">Atomic Types<a hidden class="anchor" aria-hidden="true" href="#atomic-types">#</a></h3>
<p>We need to remember that there are some default atomic types for the data model, which are different from the 4 atomic types present in the well-formedness of JSONs.</p>
<ol>
<li>Strings</li>
<li>Numbers</li>
<li>Booleans</li>
<li>Null values</li>
<li>Dates and times (you need to be careful about month - day division, number of days is dependent of year and months)</li>
<li>Time intervals</li>
<li>Binary</li>
</ol>
<p>These atomic types are usually common everywhere, but the names could vary. The following is a table that summarizes the various names for different technologies
<img src="/images/notes/Data Models and Validation-20241024094056023.webp" style="width: 100%" class="center" alt="Data Models and Validation-20241024094056023"></p>
<h4 id="lexical-and-value-space">Lexical and Value space<a hidden class="anchor" aria-hidden="true" href="#lexical-and-value-space">#</a></h4>
<blockquote>
<p>All atomic types have in common that they have a logical value space and a lexical value space. The logical value space corresponds to the actual logical <em>abstraction</em> of the type (e.g., a mathematical set of integers), while the lexical value space corresponds to the representation of logical values in a textual format (such as the decimal, or binary, or hexadecimal representation of an integer).</p></blockquote>
<p>So the Value Space is what it wants to represent, while the lexical space is what is actually stored.
For example, an image could be stored using base64 encoding.</p>
<h4 id="static-and-dynamic-schemas">Static and Dynamic schemas<a hidden class="anchor" aria-hidden="true" href="#static-and-dynamic-schemas">#</a></h4>
<p>Dynamic schemas allow for more flexibility, while static schemas are more rigid. The former are more common in JSON, while XML schemas are just <strong>static</strong>.
For example dynamic schemas can allow for keys that are not defined in the schema if the <code>additionalProperties</code> is set to true.</p>
<h3 id="json-validation">JSON Validation<a hidden class="anchor" aria-hidden="true" href="#json-validation">#</a></h3>
<p>There are some specific types in JSON, and we need to know them well.
One of the most famous validation frameworks with JSON is <strong>JSound</strong> (developed at ETH for teaching purposes), you should know the syntax very well for the scope of the course. See slides, for example <a href="https://polybox.ethz.ch/index.php/s/o2B34J2dt27hITb">here</a>. Another checker could be <strong>JSON Schema</strong>, which is standardized by the W3C.</p>
<h4 id="structured-types">Structured Types<a hidden class="anchor" aria-hidden="true" href="#structured-types">#</a></h4>
<p>In this case, there are no additional types beyond the standard array and map values typically found in JSON. The only distinction is that we might need to impose a cardinality constraint.</p>
<p>Then there are many many ways to describe a requirement for the data model some common ways you need to keep in mind are</p>
<ul>
<li><strong>Cardinality</strong>: How many times a specific element can appear.</li>
<li>Requiring presence of a key</li>
<li>Open and closed object types (difference between JSound and JSON schema).</li>
<li>Primary key constraints, null and present values. (In jsound we have special characters ?, = and @)</li>
<li>Any values</li>
<li>Type unions and intersections, negation, exclusive.</li>
</ul>
<h4 id="example-of-json-validation">Example of JSON Validation<a hidden class="anchor" aria-hidden="true" href="#example-of-json-validation">#</a></h4>
<p>Let&rsquo;s say we want to build a schema for:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;John Doe&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;john.doe@example.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;isEmployee&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;skills&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;JavaScript&#34;</span><span class="p">,</span> <span class="s2">&#34;Python&#34;</span><span class="p">,</span> <span class="s2">&#34;SQL&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;street&#34;</span><span class="p">:</span> <span class="s2">&#34;123 Main St&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;city&#34;</span><span class="p">:</span> <span class="s2">&#34;Zurich&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;postalCode&#34;</span><span class="p">:</span> <span class="s2">&#34;8000&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;projects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;title&#34;</span><span class="p">:</span> <span class="s2">&#34;E-commerce Website&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;durationMonths&#34;</span><span class="p">:</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;title&#34;</span><span class="p">:</span> <span class="s2">&#34;AI Chatbot&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;durationMonths&#34;</span><span class="p">:</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Then a possible schema would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;$schema&#34;</span><span class="p">:</span> <span class="s2">&#34;&lt;a href=&#34;</span><span class="err">http</span><span class="p">:</span><span class="c1">//json-schema.org/draft-07/schema#&#34;,&#34;&gt;http://json-schema.org/draft-07/schema#&#34;,&lt;/a&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;object&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;properties&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;minLength&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;The full name of the person.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;integer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;minimum&#34;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;maximum&#34;</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Age must be between 18 and 65.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;format&#34;</span><span class="p">:</span> <span class="s2">&#34;email&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;A valid email address.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;isEmployee&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;boolean&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Whether the person is an employee or not.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;skills&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;array&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;items&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;minItems&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;uniqueItems&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;A list of unique skills.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;object&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;properties&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;street&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;city&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;enum&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;Zurich&#34;</span><span class="p">,</span> <span class="s2">&#34;Geneva&#34;</span><span class="p">,</span> <span class="s2">&#34;Basel&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;City must be one of Zurich, Geneva, or Basel.&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;postalCode&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;pattern&#34;</span><span class="p">:</span> <span class="s2">&#34;^[0-9]{4}$&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;A 4-digit postal code.&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;required&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;street&#34;</span><span class="p">,</span> <span class="s2">&#34;city&#34;</span><span class="p">,</span> <span class="s2">&#34;postalCode&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Address details.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;projects&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;array&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;items&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;object&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;properties&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;title&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;durationMonths&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;integer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;minimum&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Project duration must be at least 1 month.&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;required&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;title&#34;</span><span class="p">,</span> <span class="s2">&#34;durationMonths&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Details of projects.&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;minItems&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;A list of projects.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;required&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;name&#34;</span><span class="p">,</span> <span class="s2">&#34;age&#34;</span><span class="p">,</span> <span class="s2">&#34;email&#34;</span><span class="p">,</span> <span class="s2">&#34;isEmployee&#34;</span><span class="p">,</span> <span class="s2">&#34;skills&#34;</span><span class="p">,</span> <span class="s2">&#34;address&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;additionalProperties&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="xml-validation">XML Validation<a hidden class="anchor" aria-hidden="true" href="#xml-validation">#</a></h3>
<p>XML Schema is one of the most famouse ways to validate XMLs.
This is an example of a XML schema</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;xs:schema</span> <span class="na">xmlns:xs=</span><span class="s">&#34;&lt;a href=&#34;</span><span class="err">http://www.w3.org/2001/XMLSchema&#34;</span><span class="nt">&gt;</span>&#34;&gt;http://www.w3.org/2001/XMLSchema&#34;&gt;<span class="nt">&lt;/a&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;foo&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:string&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/xs:schema&gt;</span>
</span></span></code></pre></div><p>We see that they are inside a <em>namespace</em>, then we have special tags for elements, types and attributes.</p>
<p>We can also control the number of times an element appears in the document.</p>
<h4 id="xml-types">XML Types<a hidden class="anchor" aria-hidden="true" href="#xml-types">#</a></h4>
<p>Here are some types taken from the <a href="https://ghislainfourny.github.io/big-data-textbook/">Book</a>.</p>
<ul>
<li><strong>Strings</strong>: <code>xs:string, xs:anyURI</code> (for strings containing a URI);</li>
<li><strong>Numbers</strong>: <code>xs:decimal, xs:integer, xs:float, xs:double, xs:long, xs:int, xs:short, xs:byte, xs:negativeInteger, xs:positiveInteger, xs:nonNegativeInteger, xs:nonPositiveInteger, xs:unsignedByte, xs:unsignedShort, xs:unsignedInt, xs:unsignedLong</code>;</li>
<li><strong>Dates and times</strong>: <code>xs:date, xs:time, xs:dateTime, xs:gYearMonth, xs:gYear, xs:gMonth, xs:gDay, xs:gMonthDay, xs:dateTimeStamp</code>;</li>
<li><strong>Time intervals</strong>: <code>xs:duration, xs:yearMonthDuration, xs:dayTimeDuration</code>;</li>
<li><strong>Binary types</strong>: <code>xs:hexBinary, xs:base64Binary</code></li>
<li><strong>Booleans</strong>: <code>xs:boolean</code></li>
<li><strong>Nulls</strong>: does not exist as a type in XML Schema (JSON specific).</li>
</ul>
<p>Normally one can also define custom <em>atomic types</em>! In this case we use keywords like <code>xs:simpleType</code> and <code>xs:restriction</code> or <code>xs:complexType</code> for more complex types (nested elements or sequences).</p>
<h4 id="facets">Facets<a hidden class="anchor" aria-hidden="true" href="#facets">#</a></h4>
<p>An <strong>XML facet</strong> refers to a constraint or rule applied to XML data types, particularly in XML Schema (XSD), to define specific properties or restrictions for elements or attributes within an XML document. Facets are used to specify conditions such as length, value ranges, patterns, and other constraints on the data stored in an XML document.</p>
<p>Facets are often associated with <strong>simple types</strong> in XML Schema and help enforce validation rules for the values of elements or attributes. For example, you can use facets to ensure that an element contains a number within a specific range or a string that matches a particular pattern.</p>
<h4 id="example-of-xml-validation">Example of XML validation<a hidden class="anchor" aria-hidden="true" href="#example-of-xml-validation">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;Library&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Book</span> <span class="na">isbn=</span><span class="s">&#34;978-3-16-148410-0&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Title&gt;</span>Effective Java<span class="nt">&lt;/Title&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Author&gt;</span>Joshua Bloch<span class="nt">&lt;/Author&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Year&gt;</span>2018<span class="nt">&lt;/Year&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Genre&gt;</span>Programming<span class="nt">&lt;/Genre&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Book&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Book</span> <span class="na">isbn=</span><span class="s">&#34;978-1-118-06333-2&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Title&gt;</span>Clean Code<span class="nt">&lt;/Title&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Author&gt;</span>Robert C. Martin<span class="nt">&lt;/Author&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Year&gt;</span>2008<span class="nt">&lt;/Year&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Genre&gt;</span>Programming<span class="nt">&lt;/Genre&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Book&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Member</span> <span class="na">id=</span><span class="s">&#34;101&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Name&gt;</span>John Doe<span class="nt">&lt;/Name&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Email&gt;</span>john.doe@example.com<span class="nt">&lt;/Email&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;PhoneNumber&gt;</span>+1234567890<span class="nt">&lt;/PhoneNumber&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Member&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Member</span> <span class="na">id=</span><span class="s">&#34;102&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Name&gt;</span>Jane Smith<span class="nt">&lt;/Name&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Email&gt;</span>jane.smith@example.com<span class="nt">&lt;/Email&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Member&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/Library&gt;</span>
</span></span></code></pre></div><p>A possible schema would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;xs:schema</span> <span class="na">xmlns:xs=</span><span class="s">&#34;&lt;a href=&#34;</span><span class="err">http://www.w3.org/2001/XMLSchema&#34;&#34;</span><span class="nt">&gt;</span>http://www.w3.org/2001/XMLSchema&#34;<span class="nt">&lt;/a&gt;</span> elementFormDefault=&#34;qualified&#34;&gt;
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- Root Element --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Library&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Book&#34;</span> <span class="na">maxOccurs=</span><span class="s">&#34;unbounded&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;1&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Title&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:string&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Author&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:string&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Year&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:gYear&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Genre&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                                <span class="nt">&lt;xs:simpleType&gt;</span>
</span></span><span class="line"><span class="cl">                                    <span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">&#34;xs:string&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                                        <span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&#34;Programming&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                                        <span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&#34;Fiction&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                                        <span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&#34;Non-Fiction&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                                        <span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&#34;Science&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                                    <span class="nt">&lt;/xs:restriction&gt;</span>
</span></span><span class="line"><span class="cl">                                <span class="nt">&lt;/xs:simpleType&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;/xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;xs:attribute</span> <span class="na">name=</span><span class="s">&#34;isbn&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:string&#34;</span> <span class="na">use=</span><span class="s">&#34;required&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;/xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Member&#34;</span> <span class="na">maxOccurs=</span><span class="s">&#34;unbounded&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;1&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Name&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:string&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Email&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:string&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                                <span class="nt">&lt;xs:annotation&gt;</span>
</span></span><span class="line"><span class="cl">                                    <span class="nt">&lt;xs:documentation&gt;</span>Email should be unique<span class="nt">&lt;/xs:documentation&gt;</span>
</span></span><span class="line"><span class="cl">                                <span class="nt">&lt;/xs:annotation&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;PhoneNumber&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:string&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;/xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;xs:attribute</span> <span class="na">name=</span><span class="s">&#34;id&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:ID&#34;</span> <span class="na">use=</span><span class="s">&#34;required&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;/xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- Unique Constraints --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;xs:unique</span> <span class="na">name=</span><span class="s">&#34;uniqueEmail&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;xs:selector</span> <span class="na">xpath=</span><span class="s">&#34;Member&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;xs:field</span> <span class="na">xpath=</span><span class="s">&#34;Email&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/xs:unique&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- Referential Integrity --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;xs:key</span> <span class="na">name=</span><span class="s">&#34;memberIDKey&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;xs:selector</span> <span class="na">xpath=</span><span class="s">&#34;Member&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;xs:field</span> <span class="na">xpath=</span><span class="s">&#34;@id&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/xs:key&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/xs:schema&gt;</span>
</span></span></code></pre></div><h2 id="dataframes">Dataframes<a hidden class="anchor" aria-hidden="true" href="#dataframes">#</a></h2>
<h4 id="what-are-data-frames">What are data frames?<a hidden class="anchor" aria-hidden="true" href="#what-are-data-frames">#</a></h4>
<blockquote>
<p>Data frames are a generalization of (normalized) relational tables allowing for (organized and structured) nestedness.</p></blockquote>
<p>Dataframes are a way to represent data in a tabular way, with rows and columns.
So we can interpret Dataframes as whatever data model we want, the main requirement is that it is <em>valid against a certain schema</em> that we define. Additional requirements are</p>
<ul>
<li>Schemas should not be valid for <em>additional</em> fields.</li>
<li>Schemas should not allow &ldquo;any&rdquo; values, but some specific types (e.g. strings, int, booleans etc.).
So we have some homogeneous data.
A relational database is a dataframe, but the inverse is not necessarily true (dataframes can violate atomic integrity for example).</li>
</ul>
<h4 id="two-advantages">Two Advantages<a hidden class="anchor" aria-hidden="true" href="#two-advantages">#</a></h4>
<p>Some formats are highly optimized for storing, e.g. Parquet, Avro, Root, Google’s protocol buffers.
We gain <strong>space and time</strong> efficiency. As we have <strong>homogeneous</strong> rows, we can have more efficient look-ups by skipping entire rows. We can also have <strong>compression</strong> and <strong>columnar storage</strong>.</p>
<blockquote>
<p><strong>Parquet</strong> is called that way because the data is stored in a <em>columnar</em> fashion, grouping all the values (across objects) together when they are associated with the same key, which might remind you of the parquet floor of your living room.</p></blockquote>
<p>The performance efficiency comes from optimization of the storage and the ability to read only the necessary columns for a specific query -&gt; we store only <em>column names</em> once, instead of doing it in every field, while with JSON for instance, one would need to repeat the key many many times.
Another advantage, is the <em>constant size</em> for a single row, that allows direct look-ups row per row, instead of using linear search.</p>
<h4 id="homogeneous-vs-heterogeneous">Homogeneous vs Heterogeneous<a hidden class="anchor" aria-hidden="true" href="#homogeneous-vs-heterogeneous">#</a></h4>
<p>Homogeneous are collections of documents that all follow the same data model, with the rules of typing allowed for dataframes, while heterogeneous doesn&rsquo;t have this rules.
Another important difference is knowing how to classify for flat and nested structures.
Usually, if the data is Heterogeneous enough, then Dataframes are much more better.</p>
<h4 id="classification-of-data-formats">Classification of data formats<a hidden class="anchor" aria-hidden="true" href="#classification-of-data-formats">#</a></h4>
<p>We have three main categories of data formats:</p>
<ul>
<li><strong>Binary</strong>: e.g. Parquet, Avro, ORC, Protocol Buffers (not CSV, JSON, XML, YAML)</li>
<li><strong>Nestedness</strong>: e.g. JSON, XML, Parquet, Avro (not CSV)</li>
<li><strong>Schema</strong>: if they need a valid data frame, e.g. Avro, Protocol Buffers, XML Schema, JSON Schema (not CSV, JSON or YAML)</li>
</ul>
<h4 id="columnar-storage">Columnar Storage<a hidden class="anchor" aria-hidden="true" href="#columnar-storage">#</a></h4>
<p>Dataframes are more efficient compared to <a href="/notes/wide-column-storage">Wide Column Storage</a> in some aspects because the keys only need to be described <em>once</em>, allowing us to store them <strong>efficiently</strong>.
Another reason: if we only need a single column in our <a href="/notes/massive-parallel-processing">Apache Spark task</a> then we could only fetch the needed column and ignore the others.
In apache spark, the dataframes are stored as an internal dataframe type.</p>
<p>If we store nested dataframes in a relational database. This is much more difficult to process both for humans and machines. Machines need to parse again the stored string into a the correct format. Human&rsquo;s need to write some weird SQL code for lateral views with explode operators.</p>
<h1 id="references">References<a hidden class="anchor" aria-hidden="true" href="#references">#</a></h1>
<p id=coddRelationalModelData1970>[1] Codd <a href="https://dl.acm.org/doi/10.1145/362384.362685">“A Relational Model of Data for Large Shared Data Banks”</a> Communications of the ACM Vol. 13(6), pp. 377--387 1970
 </p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://flecart.github.io/tags/big-data/">📓Big-Data</a></li>
    </ul>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Data Models and Validation on x"
            href="https://x.com/intent/tweet/?text=Data%20Models%20and%20Validation&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f&amp;hashtags=%f0%9f%93%93big-data">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Data Models and Validation on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f&amp;title=Data%20Models%20and%20Validation&amp;summary=Data%20Models%20and%20Validation&amp;source=https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Data Models and Validation on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f&title=Data%20Models%20and%20Validation">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Data Models and Validation on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Data Models and Validation on whatsapp"
            href="https://api.whatsapp.com/send?text=Data%20Models%20and%20Validation%20-%20https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Data Models and Validation on telegram"
            href="https://telegram.me/share/url?text=Data%20Models%20and%20Validation&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Data Models and Validation on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Data%20Models%20and%20Validation&u=https%3a%2f%2fflecart.github.io%2fnotes%2fdata-models-and-validation%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://flecart.github.io/">X. Angelo Huang&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
