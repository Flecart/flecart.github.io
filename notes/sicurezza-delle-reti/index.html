<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Sicurezza delle reti | X. Angelo Huang&#39;s Blog</title>
<meta name="keywords" content="üõ°Ô∏ècybersecurity, üï∏computer-networks">
<meta name="description" content="Obiettivi della sicurezza (!!!) üü©
Vogliamo creare delle reti che abbiamo certe garanzie di sicurezza, soprattutto:

Confidenzialit√†, non vorremmo che il nostro messaggio sia intercettabile e leggibili da persone intermedie
Integrit√†: non vogliamo che messaggi possano essere cambiati senza intervento del sender
Autenticazione: vorremmo sapere con chi stiamo parlando, e vorremmo essere sicuri che non stiano mentendo sull‚Äôidentit√†.
Sicurezza operativa(Availability): vorremmo essere in grado di poter continuare a fornire il servizio (quindi non sia possibile dossare, o installare malware che modifichino il comportamento del servizio).

Questi sono stati trattati un po&rsquo; in Notions of Security.">
<meta name="author" content="Xuanqiang &#39;Angelo&#39; Huang">
<link rel="canonical" href="https://flecart.github.io/notes/sicurezza-delle-reti/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://flecart.github.io/favicon-192x192.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://flecart.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://flecart.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://flecart.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://flecart.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://flecart.github.io/notes/sicurezza-delle-reti/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
      }
    });
  </script>
<script type="text/javascript" async
src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>






      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WW6NN2QGKF"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-WW6NN2QGKF');
        }
      </script><meta property="og:url" content="https://flecart.github.io/notes/sicurezza-delle-reti/">
  <meta property="og:site_name" content="X. Angelo Huang&#39;s Blog">
  <meta property="og:title" content="Sicurezza delle reti">
  <meta property="og:description" content="Obiettivi della sicurezza (!!!) üü© Vogliamo creare delle reti che abbiamo certe garanzie di sicurezza, soprattutto:
Confidenzialit√†, non vorremmo che il nostro messaggio sia intercettabile e leggibili da persone intermedie Integrit√†: non vogliamo che messaggi possano essere cambiati senza intervento del sender Autenticazione: vorremmo sapere con chi stiamo parlando, e vorremmo essere sicuri che non stiano mentendo sull‚Äôidentit√†. Sicurezza operativa(Availability): vorremmo essere in grado di poter continuare a fornire il servizio (quindi non sia possibile dossare, o installare malware che modifichino il comportamento del servizio). Questi sono stati trattati un po‚Äô in Notions of Security.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="notes">
    <meta property="article:tag" content="üõ°Ô∏èCybersecurity">
    <meta property="article:tag" content="üï∏Computer-Networks">
      <meta property="og:image" content="https://flecart.github.io/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://flecart.github.io/images/papermod-cover.png">
<meta name="twitter:title" content="Sicurezza delle reti">
<meta name="twitter:description" content="Obiettivi della sicurezza (!!!) üü©
Vogliamo creare delle reti che abbiamo certe garanzie di sicurezza, soprattutto:

Confidenzialit√†, non vorremmo che il nostro messaggio sia intercettabile e leggibili da persone intermedie
Integrit√†: non vogliamo che messaggi possano essere cambiati senza intervento del sender
Autenticazione: vorremmo sapere con chi stiamo parlando, e vorremmo essere sicuri che non stiano mentendo sull‚Äôidentit√†.
Sicurezza operativa(Availability): vorremmo essere in grado di poter continuare a fornire il servizio (quindi non sia possibile dossare, o installare malware che modifichino il comportamento del servizio).

Questi sono stati trattati un po&rsquo; in Notions of Security.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Notes",
      "item": "https://flecart.github.io/notes/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Sicurezza delle reti",
      "item": "https://flecart.github.io/notes/sicurezza-delle-reti/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Sicurezza delle reti",
  "name": "Sicurezza delle reti",
  "description": "Obiettivi della sicurezza (!!!) üü© Vogliamo creare delle reti che abbiamo certe garanzie di sicurezza, soprattutto:\nConfidenzialit√†, non vorremmo che il nostro messaggio sia intercettabile e leggibili da persone intermedie Integrit√†: non vogliamo che messaggi possano essere cambiati senza intervento del sender Autenticazione: vorremmo sapere con chi stiamo parlando, e vorremmo essere sicuri che non stiano mentendo sull‚Äôidentit√†. Sicurezza operativa(Availability): vorremmo essere in grado di poter continuare a fornire il servizio (quindi non sia possibile dossare, o installare malware che modifichino il comportamento del servizio). Questi sono stati trattati un po\u0026rsquo; in Notions of Security.\n",
  "keywords": [
    "üõ°Ô∏ècybersecurity", "üï∏computer-networks"
  ],
  "articleBody": "Obiettivi della sicurezza (!!!) üü© Vogliamo creare delle reti che abbiamo certe garanzie di sicurezza, soprattutto:\nConfidenzialit√†, non vorremmo che il nostro messaggio sia intercettabile e leggibili da persone intermedie Integrit√†: non vogliamo che messaggi possano essere cambiati senza intervento del sender Autenticazione: vorremmo sapere con chi stiamo parlando, e vorremmo essere sicuri che non stiano mentendo sull‚Äôidentit√†. Sicurezza operativa(Availability): vorremmo essere in grado di poter continuare a fornire il servizio (quindi non sia possibile dossare, o installare malware che modifichino il comportamento del servizio). Questi sono stati trattati un po‚Äô in Notions of Security.\nQuesti principi possono essere messe in pratica con specifiche politiche nella fase di invio dei messaggi, implementate nei vari livelli o firewall per poter identificare tentativi di intrusione.\nCome vengono raggiunti questi obiettivi\nVedremo in seguito che il primo obiettivo viene raggiunto senza molti problemi utilizzando la crittografia, mentre le altre due con le funzioni di hashing. Il quarto con la creazione di protocolli solidi.\nUn principio di sicurezza üü© La sicurezza del messaggio non dovrebbe essere basato sull‚Äôalgoritmo utilizzato per codificare, ma solamente sull‚Äôutilizzo della chiave.\nIl primo √® molto facile da recuperare, o farci reverse engineering, ne abbiamo parlato qui in breve Classical Cyphers#On security of cipher\nTipologie di attacchi (!!) üü® Se √® possibile l‚Äôattaccante pu√≤ avere moltissimi vettori di attacchi che possono incrinare i principi di sicurezza che abbiamo enunciato sopra\neavesdrop: spiare la conversazione (eventualmente rubando password e dati) Impersonation: impersonare un altro soggetto (o la macchina di un soggetto). Hijacking dirottare una sessione in corso, quindi controllare le richieste che fai, magari ti mando su una copia di paypal falsa, o Denial of service: negare il servizio agli utenti legittimi, questo sulla sicurezza operativa. Crittografia La crittografia diventa una delle tecnologie chiave per poter garantire i principi di sicurezza.\nAlcune tipologie di cifrari simmetrici üü© Approfonditi in Block Ciphers che solitamente sono utilizzati negli scambi di messaggi simmetrici. Elenco qui alcuni cifrari classici:\nCifrario mono-alfabetico (sostituzione) (come codice cesare, in cui c¬¥√® una mappatura per ogni singola lettera ad altra lettera). Cifrario poli-alfabetico (in cui la criptazione dipende anche dalla posizione). Cifrario a blocchi, come DES, AES etc. Importante diventa anche l‚Äôhashing, che serve un sacco per poter mantenere l‚Äôintegrit√† del messaggio.\nIl problema principale di questo metodo √® lo scambio delle chiavi, che dovrebbe essere sicura anche questa parte. Ma solitamente cifrari asimmetrici come RSA risolvono questa parte.\nLa soluzione ottima per questo metodo √® utilizzare un sistema a chiave pubblica PKI per scambiarsi la chiave privata con cui continuare le transazioni da l√¨ in poi.\nTipologie di attacco üü© i principali metodi di attacco sono\nCipher-text only attack:\nForza bruta, in cui cerco la chiave Statistical analysis attack (per cercare alcuni pattern che possono esistere per rompere il cifrario). Oltre a questi ho anche classici attacchi col plain text: chosen-plaintext attack, known plaintext attack, questi mi permettono un p√≤ pi√π informazioni. Se si ha segretezza perfetta come per OTP allora √® sicuro, ma √® difficile averlo.\nChiavi di sessione e RSA üü© Si √® parlato di questo ambito per abbastanza, ma non la ritengo molto interessante quindi non la metto, √® per√≤ molto importante, ma credo tu sappia come funzioni quindi non la scrivo.\nSemmai due note sulle chiavi di sessione, √® molto semplice, in pratica dato che RSA √® molto pi√π lento e costoso (in termini di energia) dei cifrari a chiave simmetrica utilizzo RSA per scambiarmi la chiave con cui faccio la crittazione simmetrica, questa √® la chiave di sessione.\nda notare che la combinazione di Cifrari simmetrici e asimmetrici riescono a dare forti garanzie (non assolute, perch√© i cifrari possono essere comunque rotti) di confidenzialit√† fra le persone.\nAutenticazione Protocollo di autenticazione üü© Il libro prova a costruire passo passo un protocollo di autenticazione (cio√® una serie di passaggi che finiscono per riuscire ad asserire l‚Äôidentit√† con cui si stia comunicando).\nProtocolli di autenticazione passo passo Dato che lo scambio di password √® sempre vulnerabile a playback attack. Ci costruiamo un segreto temporaneo, la nonce, che √® una mini specie di challenge utilizzata per convincere dell‚Äôidentit√†. Se provo a rimandare la nonce criptata con una chiave privata, allora potrei dire che sono ALICE.\nE dato che la nonce √® unica, non √® vulnerabile a playback attack.\nUltimo protocollo con NONCE e PKI\nR √® la nonce\nNel nuovo sistema con la nonce e il sistema chiave pubblica e chiave privata √® ancora vulnerabile a MITM. Dato che Eve pu√≤ sempre mettersi in mezzo, e praticamente avere in chiaro tutti i collegamenti, dovremmo cercare di identificare in qualche modo la chiave pubblica della identit√† giusta. (devo prendere la chiave pubblica da un servizio fidato, queste sono le certification autorities, CA).\nCertificate authorities üü© Sono dei servizi utili ad identificare l‚Äôidentit√† di una persona, e sono in grado di giustificare la corrispondenza della chiave pubblica con una certa identit√†. Generano per te la chiave pubblica E privata. Per protocolli come TLS-SSL protocol sono fondamentali.\nOvviamente la sicurezza dipende dai processi di autenticazione di questa CA (potrebbe chiederti la carta d‚Äôidentit√†, o altre informazioni simili), che potrebbe essere vulnerabile anche essa. (nella storia sono anche stati hackerati, quindi hanno molte coppie di chiavi messe a gente falsa).\nIntegrit√† del messaggio üü© Potremmo utilizzare il PKI, per firmare con la nostra chiave privata (e poi CA per trovare la chiave pubblica per poter verificare il messaggio) in questo modo il nostro interlocutore √® sicuro dell‚Äôintegrit√† del nostro messaggio e dell‚Äôautenticit√† di chi me lo sta mandando (con le CA).\nSe poi si fa la stessa cosa mandando un messaggio gi√† cifrato, allora ho anche segretezza, senza nessun problema!\nMa poi, dato che √® molto costoso firmare un messaggio tanto lungo, solitamente si firma solamente l‚Äôhash del messaggi originale, quindi rende molto pi√π efficiente il protocollo. ma anche il fatto che in questo modo posso firmare messaggi molto corti! Ho sempre un codice della stessa linguaggio.\nFunzione di hashing üü© Ci sono un sacco di caratteristiche che dovrebbero tutte le funzioni di hashing soddisfare\nUn digest fisso, di una certa lunghezza. Pre-image collision, dovrebbe essere difficile trovare un altro messaggio con lo stesso hash. Una propriet√† che dovrei soddisfare √® il fatto che se cambio un bit di input cambi di molto l‚Äôoutput, ossia ci sia pochissima correlazione fra input e output! (certamente cose lineari non ci piacciono) Esempio di hash brutto Internet checksum\nUn esempio di hash brutto √® l‚Äôinternet checksum perch√© √® molto facile poter creare una collisione!\n√à in grado di rilevare solamente errori idioti (quelli fatti senza l‚Äôintelligenza di un EvE che prova a cambiarti i bit, ma sono abbastanza random!)\nProtocollo Mail sicura üü© Praticamente generiamo una chiave simmetrica, poi se vogliamo firmarla e metterci un coso di integrit√† MAC possiamo farlo, cifriamo con chiave pubblica di bob presa da CA la nostra chiave e mandiamo il pacco con Messaggio privato, magari firmato, e chiave criptata.\nBob riceve e riesce a ricavare tutto quanto possibile per verificare l‚Äôintegrit√† del messaggio e comprendere il messaggio!\nProtocollo SSL Trattato un po‚Äô meglio (con altri dettagli) in TLS-SSL protocol Se rendiamo il socket sicuro, rendiamo sicuro tutto quello che c‚Äô√® sotto, quindi dal livello 4 in gi√π, vedi Architettura e livelli 1, 2 per dettagli sulla stack. In questo modo le applicazioni possono decidere se utilizzare o meno questo protocollo, dato che √® sotto di essa.\nSlide presentazione ssl\nImplementazione Toy-SSL üü®+ Utilizzando il sistema presentato sopra riescono a cambiare un segreto (come una chiave condivisa per comunicare, ma sar√† un robo per creare un set di chiavi, o il vettore di inizializzazione)\nIl set di chiavi sono utilizzati per invio direzionale e verifica di integrit√† direzionale (quindi sono 4 chiavi). Che sono generate dalla Master Key scambiata dalla prima fase.\nCARATTERISTICHE PACCHETTI SSL üü•\nDurante il trasferimento dei dati vogliamo avere anche altre caratteristiche che aiutino a mantenere la sicurezza di questo protocollo:\nNumerazione per evitare che eve duplichi pacchetti o simili. Verifica di integrit√† ha un proprio hash MAC (hashato √® anche la numerazione a livello SSL). Slide record and sequence numbers COMMON ATTACKS\nReorder attack, utilizzo le sequence numbers per numerare i records, cos√¨ sono sicuro che non pu√≤ riordinare dato che non possiede le chiavi\nReplay attack riutilizzo anche in questo momento le nonce\nTruncation attack vogliamo anche avere un modo per terminare in modo sicuro la comunicazione, cio√® non dovremmo permettere a Eve di terminare la comunicazione per noi. Per fare questo mettiamo anche una parte tipologia di messaggio in ogni MAC. (importante il fatto che √® su due versi la chisura!)\nImplementazione SSL (skip) Questo √® uguale al toy SSL alla fine‚Ä¶ Solo con qualche accorgimento in pi√π, non √® importante sta parte\nhandshake √® leggermente pi√π complicato, c‚Äô√® anche una fase di autenticazione dell‚Äôutente e scelta dell‚Äôalgoritmo crittografico asimmetrico. Alla fine mando anche MAC di tutti i messaggi di handshake per prevenire tampering, come l‚Äôeliminazione degli algoritmi pi√π forti per poter provare a bruteforcare meglio. Record Format in questo modo si chiamano i pacchetti di SSL, contengono cose simili a quanto abbiamo descritto per il toy SSL\nLa cosa particolare √® che i dati e il mac sono entrambi criptati con la chiave simmetrica che abbiamo derivato prima, in modo simile a quanto fatto dal toy-SSL.\nIPsec Moved to IPSec protocol\nFirewalls Vogliamo cercare di filtrare quello che entra dall‚Äôesterno. mentre in generale ci fidiamo di quello che √® presente all‚Äôinterno del firewall (quindi se riesco a controllare una macchina che sia dentro avrei pieno accesso).\nObiettivi dei Firewalls üü®- L‚Äôobiettimo principale dei Firewalls √® proteggere da attacchi esterni, esempi di attacchi potrebbero essere\nVorrei evitare DoS, ossia permettere senza problemi di aprire delle porte TCP senza andare a chiuderne una. Non devo permettere la modifica arbitraria dei dati (che hanno conseguenze penali credo) Permettere l‚Äôaccesso solamente a utenti autenticati Per fare ci√≤ possono avere a disposizione tre tipologie di firewalls, quelly che iltrato senza avere uno stato quelli con uno stato, ma anche le application gateways (che controllano il contenuto di quello che esce e quello che entra).\nSlide obiettivi\nAccess control List üü®+ In sede diversa, questa strategia √® stata analizzata anche in analisi delle autorizzazioni nei sistemi operativi. Vedi Sicurezza OS. Vogliamo permettere certe cose, e negarne altre. La ACL √® solamente una lista di regole di permessi e negazioni, con specificazione di source, address, protocollo, porta di arrivo e di partenza e flag‚Ä¶\nCon queste regole posso implementare senza problemi il Stateless filtering\nStateless/Stateful Packet filtering üü© Alcuni pacchetti vengono droppati quando ci sono certe informazioni all‚Äôinterno del pacchetto.\nInformazione come Source e destination IP\nPort numbers for TCP or UDP\nICMP messages\nSyn and Ack bits, and maybe more\nSlides Stateless packet filtering\nMore examples of these Quando una cosa non ha molto senso da sola, e ha bisogno di tenere conto dello stato della connessione allora abbiamo bisogno di utilizzare uno stateful packet filtering in cui si monitora la storia della connessione TCP una volta che la connessione √® stata aperta.\nApplication gateway and IDS üü© Fanno a vedere il contenuto, e gli header dei pacchetti che provengono dall‚Äôinterno. TODO meglio, il prof ha saltato.\nIntrusion detection systems /turn\nVogliamo cercare di capire se siamo sotto attacco, quindi se qualcuno fa port scanning, oppure packet filtering pesante da certe cose, oppure provare a vedere se il contenuto del pacchetto potrebbe essere dannoso.\nDemilitarized üü© https://doubleoctopus.com/security-wiki/network-architecture/demilitarized-zone/\nin pratica √® possiamo considerarla come una rete di appoggio per accedere a una rete untrusted esterna, come Internet.\nSolitamente in questa DMZ ci mettiamo cose come Email, web servers e cose simili. √à una zona quarantinata, cio√® per interagire col network interno si passa di nuovo d aun firewall, questo per garantire maggiore protezione della roba interna, solitamente molto pi√π importante.\n",
  "wordCount" : "1999",
  "inLanguage": "en",
  "image": "https://flecart.github.io/images/papermod-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Xuanqiang 'Angelo' Huang"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://flecart.github.io/notes/sicurezza-delle-reti/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "X. Angelo Huang's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://flecart.github.io/favicon-192x192.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://flecart.github.io/" accesskey="h" title="X. Angelo Huang&#39;s Blog (Alt + H)">X. Angelo Huang&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://flecart.github.io/notes/" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://flecart.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://flecart.github.io/">Home</a>&nbsp;¬ª&nbsp;<a href="https://flecart.github.io/notes/">Notes</a></div>
    <h1 class="post-title entry-hint-parent">
      Sicurezza delle reti
    </h1>
    <div class="post-meta">10 min&nbsp;¬∑&nbsp;Xuanqiang &#39;Angelo&#39; Huang

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#obiettivi-della-sicurezza--" aria-label="Obiettivi della sicurezza (!!!) üü©">Obiettivi della sicurezza (!!!) üü©</a></li>
                <li>
                    <a href="#un-principio-di-sicurezza-" aria-label="Un principio di sicurezza üü©">Un principio di sicurezza üü©</a></li>
                <li>
                    <a href="#tipologie-di-attacchi--" aria-label="Tipologie di attacchi (!!) üü®">Tipologie di attacchi (!!) üü®</a></li></ul>
                    
                <li>
                    <a href="#crittografia" aria-label="Crittografia">Crittografia</a><ul>
                        
                <li>
                    <a href="#alcune-tipologie-di-cifrari-simmetrici-" aria-label="Alcune tipologie di cifrari simmetrici üü©">Alcune tipologie di cifrari simmetrici üü©</a></li>
                <li>
                    <a href="#tipologie-di-attacco-" aria-label="Tipologie di attacco üü©">Tipologie di attacco üü©</a></li>
                <li>
                    <a href="#chiavi-di-sessione-e-rsa-" aria-label="Chiavi di sessione e RSA üü©">Chiavi di sessione e RSA üü©</a></li></ul>
                </li>
                <li>
                    <a href="#autenticazione" aria-label="Autenticazione">Autenticazione</a><ul>
                        
                <li>
                    <a href="#protocollo-di-autenticazione-" aria-label="Protocollo di autenticazione üü©">Protocollo di autenticazione üü©</a></li>
                <li>
                    <a href="#certificate-authorities-" aria-label="Certificate authorities üü©">Certificate authorities üü©</a></li>
                <li>
                    <a href="#integrit%c3%a0-del-messaggio-" aria-label="Integrit√† del messaggio üü©">Integrit√† del messaggio üü©</a></li>
                <li>
                    <a href="#funzione-di-hashing-" aria-label="Funzione di hashing üü©">Funzione di hashing üü©</a></li>
                <li>
                    <a href="#protocollo-mail-sicura-" aria-label="Protocollo Mail sicura üü©">Protocollo Mail sicura üü©</a></li></ul>
                </li>
                <li>
                    <a href="#protocollo-ssl" aria-label="Protocollo SSL">Protocollo SSL</a><ul>
                        
                <li>
                    <a href="#implementazione-toy-ssl-" aria-label="Implementazione Toy-SSL üü®&#43;">Implementazione Toy-SSL üü®+</a></li>
                <li>
                    <a href="#implementazione-ssl-skip" aria-label="Implementazione SSL (skip)">Implementazione SSL (skip)</a><ul>
                        
                <li>
                    <a href="#record-format" aria-label="Record Format">Record Format</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#ipsec" aria-label="IPsec">IPsec</a></li>
                <li>
                    <a href="#firewalls" aria-label="Firewalls">Firewalls</a><ul>
                        
                <li>
                    <a href="#obiettivi-dei-firewalls--" aria-label="Obiettivi dei Firewalls üü®-">Obiettivi dei Firewalls üü®-</a></li>
                <li>
                    <a href="#access-control-list-" aria-label="Access control List üü®&#43;">Access control List üü®+</a></li>
                <li>
                    <a href="#statelessstateful-packet-filtering-" aria-label="Stateless/Stateful Packet filtering üü©">Stateless/Stateful Packet filtering üü©</a></li>
                <li>
                    <a href="#application-gateway-and-ids-" aria-label="Application gateway and IDS üü©">Application gateway and IDS üü©</a></li>
                <li>
                    <a href="#demilitarized-" aria-label="Demilitarized üü©">Demilitarized üü©</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="obiettivi-della-sicurezza--">Obiettivi della sicurezza (!!!) üü©<a hidden class="anchor" aria-hidden="true" href="#obiettivi-della-sicurezza--">#</a></h3>
<p>Vogliamo creare delle reti che abbiamo certe garanzie di sicurezza, soprattutto:</p>
<ol>
<li><strong>Confidenzialit√†</strong>, non vorremmo che il nostro messaggio sia intercettabile e leggibili da persone intermedie</li>
<li><strong>Integrit√†</strong>: non vogliamo che messaggi possano essere cambiati senza intervento del sender</li>
<li><strong>Autenticazione</strong>: vorremmo sapere con chi stiamo parlando, e vorremmo essere sicuri che non stiano mentendo sull‚Äôidentit√†.</li>
<li><strong>Sicurezza operativa</strong>(Availability): vorremmo essere in grado di poter continuare a fornire il servizio (quindi non sia possibile dossare, o installare malware che modifichino il comportamento del servizio).</li>
</ol>
<p>Questi sono stati trattati un po&rsquo; in <a href="/notes/notions-of-security">Notions of Security</a>.</p>
<p>Questi principi possono essere messe in pratica con specifiche politiche nella fase di invio dei messaggi, implementate nei vari livelli o firewall per poter identificare tentativi di intrusione.</p>
<p><strong>Come vengono raggiunti questi obiettivi</strong></p>
<p>Vedremo in seguito che il primo obiettivo viene raggiunto senza molti problemi utilizzando la crittografia, mentre le altre due con le funzioni di hashing. Il quarto con la creazione di protocolli solidi.</p>
<h3 id="un-principio-di-sicurezza-">Un principio di sicurezza üü©<a hidden class="anchor" aria-hidden="true" href="#un-principio-di-sicurezza-">#</a></h3>
<p>La sicurezza del messaggio non dovrebbe essere basato sull&rsquo;algoritmo utilizzato per codificare, ma solamente sull&rsquo;utilizzo della chiave.</p>
<p>Il primo √® molto facile da recuperare, o farci reverse engineering, ne abbiamo parlato qui in breve
<a href="/notes/classical-cyphers#on-security-of-cipher">Classical Cyphers#On security of cipher</a></p>
<h3 id="tipologie-di-attacchi--">Tipologie di attacchi (!!) üü®<a hidden class="anchor" aria-hidden="true" href="#tipologie-di-attacchi--">#</a></h3>
<p>Se √® possibile l‚Äôattaccante pu√≤ avere moltissimi vettori di attacchi che possono incrinare i principi di sicurezza che abbiamo enunciato sopra</p>
<ol>
<li><strong>eavesdrop:</strong> spiare la conversazione (eventualmente rubando password e dati)</li>
<li><strong>Impersonation:</strong> impersonare un altro soggetto (o la macchina di un soggetto).</li>
<li><strong>Hijacking</strong> dirottare una sessione in corso, quindi controllare le richieste che fai, magari ti mando su una copia di paypal falsa, o</li>
<li><strong>Denial of service:</strong> negare il servizio agli utenti legittimi, questo sulla sicurezza operativa.</li>
</ol>
<h2 id="crittografia">Crittografia<a hidden class="anchor" aria-hidden="true" href="#crittografia">#</a></h2>
<p>La crittografia diventa una delle tecnologie chiave per poter garantire i principi di sicurezza.</p>
<h3 id="alcune-tipologie-di-cifrari-simmetrici-">Alcune tipologie di cifrari simmetrici üü©<a hidden class="anchor" aria-hidden="true" href="#alcune-tipologie-di-cifrari-simmetrici-">#</a></h3>
<p>Approfonditi in <a href="/notes/block-ciphers">Block Ciphers</a> che solitamente sono utilizzati negli scambi di messaggi simmetrici.
Elenco qui alcuni cifrari classici:</p>
<ol>
<li>Cifrario mono-alfabetico (sostituzione) (come codice cesare, in cui c¬¥√® una mappatura per ogni singola lettera ad altra lettera).</li>
<li>Cifrario poli-alfabetico (in cui la criptazione dipende anche dalla posizione).</li>
<li>Cifrario a blocchi, come DES, AES etc.</li>
</ol>
<p>Importante diventa anche l‚Äôhashing, che serve un sacco per poter mantenere l‚Äôintegrit√† del messaggio.</p>
<p>Il problema principale di questo metodo √® lo scambio delle chiavi, che dovrebbe essere sicura anche questa parte. Ma solitamente cifrari asimmetrici come RSA risolvono questa parte.</p>
<p>La soluzione ottima per questo metodo √® utilizzare un sistema a chiave pubblica PKI per scambiarsi la chiave privata con cui continuare le transazioni da l√¨ in poi.</p>
<h3 id="tipologie-di-attacco-">Tipologie di attacco üü©<a hidden class="anchor" aria-hidden="true" href="#tipologie-di-attacco-">#</a></h3>
<p>i principali metodi di attacco sono</p>
<p>Cipher-text only attack:</p>
<ol>
<li>Forza bruta, in cui cerco la chiave</li>
<li>Statistical analysis attack (per cercare alcuni pattern che possono esistere per rompere il cifrario).</li>
</ol>
<p>Oltre a questi ho anche classici attacchi col plain text: chosen-plaintext attack, known plaintext attack, questi mi permettono un p√≤ pi√π informazioni.
Se si ha segretezza perfetta come per <a href="/notes/otp-and-stream-ciphers">OTP</a> allora √® sicuro, ma √® difficile averlo.</p>
<h3 id="chiavi-di-sessione-e-rsa-">Chiavi di sessione e RSA üü©<a hidden class="anchor" aria-hidden="true" href="#chiavi-di-sessione-e-rsa-">#</a></h3>
<p>Si √® parlato di questo ambito per abbastanza, ma non la ritengo molto interessante quindi non la metto, √® per√≤ molto importante, ma credo tu sappia come funzioni quindi non la scrivo.</p>
<p>Semmai due note sulle chiavi di sessione, √® molto semplice, in pratica dato che RSA √® molto pi√π lento e costoso (in termini di energia) dei cifrari a chiave simmetrica utilizzo RSA per scambiarmi la chiave con cui faccio la crittazione simmetrica, questa √® la <strong>chiave di sessione.</strong></p>
<p>da notare che la combinazione di Cifrari simmetrici e asimmetrici riescono a dare forti garanzie (non assolute, perch√© i cifrari possono essere comunque rotti) di confidenzialit√† fra le persone.</p>
<h2 id="autenticazione">Autenticazione<a hidden class="anchor" aria-hidden="true" href="#autenticazione">#</a></h2>
<h3 id="protocollo-di-autenticazione-">Protocollo di autenticazione üü©<a hidden class="anchor" aria-hidden="true" href="#protocollo-di-autenticazione-">#</a></h3>
<p>Il libro prova a costruire passo passo un protocollo di autenticazione (cio√® una serie di passaggi che finiscono per riuscire ad asserire l&rsquo;identit√† con cui si stia comunicando).</p>
<ul>
<li>Protocolli di autenticazione passo passo
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 1.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 1">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 2.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 2">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 3.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 3">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 4.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 4"></li>
</ul>
<p>Dato che lo scambio di password √® sempre vulnerabile a <strong>playback attack</strong>. Ci costruiamo un segreto temporaneo, la <strong>nonce</strong>, che √® una mini specie di challenge utilizzata per convincere dell&rsquo;identit√†. Se provo a rimandare la nonce criptata con una chiave privata, allora potrei dire che sono ALICE.</p>
<p>E dato che la nonce √® unica, non √® vulnerabile a playback attack.</p>
<ul>
<li>
<p>Ultimo protocollo con NONCE e PKI</p>
  <img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 5.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 5">
<p>R √® la nonce</p>
</li>
</ul>
<p>Nel nuovo sistema con la nonce e il sistema chiave pubblica e chiave privata √® <strong>ancora vulnerabile a MITM</strong>. Dato che Eve pu√≤ sempre mettersi in mezzo, e praticamente avere in chiaro tutti i collegamenti, dovremmo cercare di identificare in qualche modo la chiave pubblica della identit√† giusta. (devo prendere la chiave pubblica da un servizio fidato, queste sono le <strong>certification autorities, CA</strong>).</p>
<h3 id="certificate-authorities-">Certificate authorities üü©<a hidden class="anchor" aria-hidden="true" href="#certificate-authorities-">#</a></h3>
<p>Sono dei servizi utili ad identificare l&rsquo;identit√† di una persona, e sono in grado di giustificare la corrispondenza della chiave pubblica con una certa identit√†. Generano per te la chiave pubblica E privata.
Per protocolli come <a href="/notes/tls-ssl-protocol">TLS-SSL protocol</a> sono fondamentali.</p>
<p>Ovviamente la sicurezza dipende dai processi di autenticazione di questa CA (potrebbe chiederti la carta d&rsquo;identit√†, o altre informazioni simili), che potrebbe essere vulnerabile anche essa. (nella storia sono anche stati hackerati, quindi hanno molte coppie di chiavi messe a gente falsa).</p>
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 6.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 6">
<h3 id="integrit√†-del-messaggio-">Integrit√† del messaggio üü©<a hidden class="anchor" aria-hidden="true" href="#integrit√†-del-messaggio-">#</a></h3>
<p>Potremmo utilizzare il PKI, per <strong>firmare</strong> con la nostra chiave privata (e poi CA per trovare la chiave pubblica per poter verificare il messaggio) in questo modo il nostro interlocutore √® sicuro dell‚Äô<strong>integrit√†</strong> del nostro messaggio e dell‚Äôautenticit√† di chi me lo sta mandando (con le CA).</p>
<p>Se poi si fa la stessa cosa mandando un messaggio gi√† cifrato, allora ho anche segretezza, senza nessun problema!</p>
<p>Ma poi, dato che √® molto costoso firmare un messaggio tanto lungo, solitamente si firma solamente <strong>l&rsquo;hash</strong> del messaggi originale, quindi rende molto pi√π efficiente il protocollo. ma anche il fatto che in questo modo posso firmare messaggi molto corti! Ho sempre un codice della stessa linguaggio.</p>
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 7.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 7">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 8.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 8">
<h3 id="funzione-di-hashing-"><strong>Funzione di hashing</strong> üü©<a hidden class="anchor" aria-hidden="true" href="#funzione-di-hashing-">#</a></h3>
<p>Ci sono un sacco di caratteristiche che dovrebbero tutte le funzioni di hashing soddisfare</p>
<ul>
<li>Un digest fisso, di una certa lunghezza.</li>
<li><strong>Pre-image collision</strong>, dovrebbe essere difficile trovare un altro messaggio con lo stesso hash.
<ul>
<li>Una propriet√† che dovrei soddisfare √® il fatto che se <strong>cambio un bit di input</strong> cambi di molto l&rsquo;output, ossia ci sia pochissima correlazione fra input e output! (certamente cose lineari non ci piacciono)</li>
</ul>
</li>
</ul>
<p><strong>Esempio di hash brutto</strong> Internet checksum</p>
<p>Un esempio di hash brutto √® l&rsquo;internet checksum perch√© √® molto facile poter creare una collisione!</p>
<p>√à in grado di rilevare solamente errori idioti (quelli fatti senza l&rsquo;intelligenza di un EvE che prova a cambiarti i bit, ma sono abbastanza random!)</p>
<h3 id="protocollo-mail-sicura-">Protocollo Mail sicura üü©<a hidden class="anchor" aria-hidden="true" href="#protocollo-mail-sicura-">#</a></h3>
<pre><code>&lt;img src=&quot;/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 9.png&quot; style=&quot;width: 100%&quot; class=&quot;center&quot; alt=&quot;image/universita/ex-notion/Sicurezza delle reti/Untitled 9&quot;&gt;

&lt;img src=&quot;/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 10.png&quot; style=&quot;width: 100%&quot; class=&quot;center&quot; alt=&quot;image/universita/ex-notion/Sicurezza delle reti/Untitled 10&quot;&gt;
</code></pre>
<p>Praticamente generiamo una chiave simmetrica, poi se vogliamo firmarla e metterci un coso di integrit√† MAC possiamo farlo, cifriamo con chiave pubblica di bob presa da CA la nostra chiave e mandiamo il pacco con Messaggio privato, magari firmato, e chiave criptata.</p>
<p>Bob riceve e riesce a ricavare tutto quanto possibile per verificare l‚Äôintegrit√† del messaggio e comprendere il messaggio!</p>
<h2 id="protocollo-ssl">Protocollo SSL<a hidden class="anchor" aria-hidden="true" href="#protocollo-ssl">#</a></h2>
<p>Trattato un po&rsquo; meglio (con altri dettagli) in <a href="/notes/tls-ssl-protocol">TLS-SSL protocol</a>
Se rendiamo il socket sicuro, rendiamo sicuro tutto quello che c&rsquo;√® sotto, quindi dal livello 4 in gi√π, vedi <a href="/notes/architettura-e-livelli-1,-2">Architettura e livelli 1, 2</a> per dettagli sulla stack. In questo modo le applicazioni possono decidere se utilizzare o meno questo protocollo, dato che √® sotto di essa.</p>
<ul>
<li>
<p>Slide presentazione ssl</p>
  <img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 11.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 11">
  <img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 12.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 12">
</li>
</ul>
<h3 id="implementazione-toy-ssl-">Implementazione Toy-SSL üü®+<a hidden class="anchor" aria-hidden="true" href="#implementazione-toy-ssl-">#</a></h3>
<p>Utilizzando il sistema presentato sopra riescono a cambiare un segreto (come una chiave condivisa per comunicare, ma sar√† un robo per <strong>creare un set di chiavi</strong>, o il vettore di inizializzazione)</p>
<p>Il set di chiavi sono utilizzati per invio direzionale e verifica di integrit√† direzionale (quindi sono 4 chiavi). Che sono generate dalla Master Key scambiata dalla prima fase.</p>
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 13.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 13">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 14.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 14">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 15.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 15">
<p><strong>CARATTERISTICHE PACCHETTI SSL</strong> üü•</p>
<p>Durante il trasferimento dei dati vogliamo avere anche altre caratteristiche che aiutino a mantenere la sicurezza di questo protocollo:</p>
<ol>
<li><strong>Numerazione</strong> per evitare che eve duplichi pacchetti o simili.</li>
<li><strong>Verifica di integrit√†</strong> ha un proprio hash MAC (hashato √® anche la numerazione a livello SSL).</li>
</ol>
<ul>
<li>
<p>Slide record and sequence numbers
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 16.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 16"></p>
  <img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 17.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 17">
</li>
</ul>
<p><strong>COMMON ATTACKS</strong></p>
<p><strong>Reorder attack</strong>, utilizzo le sequence numbers per numerare i records, cos√¨ sono sicuro che non pu√≤ riordinare dato che non possiede le chiavi</p>
<p><strong>Replay attack</strong> riutilizzo anche in questo momento le nonce</p>
<p><strong>Truncation attack</strong> vogliamo anche avere un modo per terminare in modo sicuro la comunicazione, cio√® non dovremmo permettere a Eve di terminare la comunicazione per noi. Per fare questo mettiamo anche una parte tipologia di messaggio in ogni MAC. (importante il fatto che √® su due versi la chisura!)</p>
<h3 id="implementazione-ssl-skip">Implementazione SSL (skip)<a hidden class="anchor" aria-hidden="true" href="#implementazione-ssl-skip">#</a></h3>
<p>Questo √® uguale al toy SSL alla fine‚Ä¶ Solo con qualche accorgimento in pi√π, non √® importante sta parte</p>
<ul>
<li>handshake √® leggermente pi√π complicato, c‚Äô√® anche una fase di autenticazione dell&rsquo;utente e <strong>scelta dell‚Äôalgoritmo crittografico asimmetrico</strong>.</li>
<li>Alla fine mando anche MAC di tutti i messaggi di handshake per <strong>prevenire tampering,</strong> come l‚Äôeliminazione degli algoritmi pi√π forti per poter provare a bruteforcare meglio.</li>
</ul>
<h4 id="record-format">Record Format<a hidden class="anchor" aria-hidden="true" href="#record-format">#</a></h4>
<p>in questo modo si chiamano i pacchetti di SSL, contengono cose simili a quanto abbiamo descritto per il toy SSL</p>
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 18.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 18">
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 19.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 19">
<p>La cosa particolare √® che i dati e il mac sono entrambi criptati con la chiave simmetrica che abbiamo derivato prima, in modo simile a quanto fatto dal toy-SSL.</p>
<h2 id="ipsec">IPsec<a hidden class="anchor" aria-hidden="true" href="#ipsec">#</a></h2>
<p>Moved to <a href="/notes/ipsec-protocol">IPSec protocol</a></p>
<h2 id="firewalls">Firewalls<a hidden class="anchor" aria-hidden="true" href="#firewalls">#</a></h2>
<p>Vogliamo cercare di <strong>filtrare quello che entra dall&rsquo;esterno</strong>. mentre in generale ci fidiamo di quello che √® presente all‚Äôinterno del firewall (quindi se riesco a controllare una macchina che sia dentro avrei pieno accesso).</p>
<h3 id="obiettivi-dei-firewalls--">Obiettivi dei Firewalls üü®-<a hidden class="anchor" aria-hidden="true" href="#obiettivi-dei-firewalls--">#</a></h3>
<p>L‚Äôobiettimo principale dei Firewalls √® proteggere da attacchi esterni, esempi di attacchi potrebbero essere</p>
<ul>
<li>Vorrei evitare DoS, ossia permettere senza problemi di aprire delle porte TCP senza andare a chiuderne una.</li>
<li>Non devo permettere la modifica arbitraria dei dati (che hanno conseguenze penali credo)</li>
<li>Permettere l‚Äôaccesso solamente a <strong>utenti autenticati</strong></li>
</ul>
<p>Per fare ci√≤ possono avere a disposizione tre tipologie di firewalls, quelly che iltrato senza avere uno stato quelli con uno stato, ma anche le application gateways (che controllano il contenuto di quello che esce e quello che entra).</p>
<ul>
<li>
<p>Slide obiettivi</p>
  <img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 28.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 28">
</li>
</ul>
<h3 id="access-control-list-">Access control List üü®+<a hidden class="anchor" aria-hidden="true" href="#access-control-list-">#</a></h3>
<pre><code>&lt;img src=&quot;/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 29.png&quot; style=&quot;width: 100%&quot; class=&quot;center&quot; alt=&quot;image/universita/ex-notion/Sicurezza delle reti/Untitled 29&quot;&gt;
</code></pre>
<p>In sede diversa, questa strategia √® stata analizzata anche in analisi delle autorizzazioni nei sistemi operativi. Vedi <a href="/notes/sicurezza-os">Sicurezza OS</a>.
Vogliamo permettere certe cose, e negarne altre. La ACL √® solamente una lista di regole di permessi e negazioni, con specificazione di source, address, protocollo, porta di arrivo e di partenza e flag‚Ä¶</p>
<p>Con queste regole posso implementare senza problemi il Stateless filtering</p>
<h3 id="statelessstateful-packet-filtering-">Stateless/Stateful Packet filtering üü©<a hidden class="anchor" aria-hidden="true" href="#statelessstateful-packet-filtering-">#</a></h3>
<ul>
<li>
<p>Alcuni pacchetti vengono droppati quando ci sono certe informazioni all&rsquo;interno del pacchetto.</p>
</li>
<li>
<p>Informazione come Source e destination IP</p>
</li>
<li>
<p>Port numbers for TCP or UDP</p>
</li>
<li>
<p>ICMP messages</p>
</li>
<li>
<p>Syn and Ack bits, and maybe more</p>
</li>
<li>
<p>Slides Stateless packet filtering</p>
  <img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 30.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 30">
  <img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 31.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 31">
</li>
<li>
<p>More examples of these
<img src="/images/notes/image/universita/ex-notion/Sicurezza delle reti/Untitled 32.png" style="width: 100%" class="center" alt="image/universita/ex-notion/Sicurezza delle reti/Untitled 32"></p>
</li>
</ul>
<p>Quando una cosa non ha molto senso da sola, e ha bisogno di tenere conto dello stato della connessione allora abbiamo bisogno di utilizzare uno <strong>stateful packet filtering</strong> in cui si monitora la storia della connessione TCP una volta che la connessione √® stata aperta.</p>
<h3 id="application-gateway-and-ids-">Application gateway and IDS üü©<a hidden class="anchor" aria-hidden="true" href="#application-gateway-and-ids-">#</a></h3>
<p>Fanno a vedere il contenuto, e gli header dei pacchetti che provengono dall&rsquo;interno. TODO meglio, il prof ha saltato.</p>
<p><strong>Intrusion detection systems /turn</strong></p>
<p>Vogliamo cercare di capire se siamo sotto attacco, quindi se qualcuno fa port scanning, oppure packet filtering pesante da certe cose, oppure provare a vedere se il contenuto del pacchetto potrebbe essere dannoso.</p>
<h3 id="demilitarized-">Demilitarized üü©<a hidden class="anchor" aria-hidden="true" href="#demilitarized-">#</a></h3>
<p><a href="https://doubleoctopus.com/security-wiki/network-architecture/demilitarized-zone/"><a href="https://doubleoctopus.com/security-wiki/network-architecture/demilitarized-zone/">https://doubleoctopus.com/security-wiki/network-architecture/demilitarized-zone/</a></a></p>
<p>in pratica √® possiamo considerarla come una rete di appoggio per accedere a una rete untrusted esterna, come Internet.</p>
<p>Solitamente in questa DMZ ci mettiamo cose come Email, web servers e cose simili. √à una zona quarantinata, cio√® per interagire col network interno si passa di nuovo d aun firewall, questo per garantire maggiore protezione della roba interna, solitamente molto pi√π importante.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://flecart.github.io/tags/%EF%B8%8Fcybersecurity/">üõ°Ô∏èCybersecurity</a></li>
      <li><a href="https://flecart.github.io/tags/computer-networks/">üï∏Computer-Networks</a></li>
    </ul>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sicurezza delle reti on x"
            href="https://x.com/intent/tweet/?text=Sicurezza%20delle%20reti&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f&amp;hashtags=%f0%9f%9b%a1%ef%b8%8fcybersecurity%2c%f0%9f%95%b8computer-networks">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sicurezza delle reti on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f&amp;title=Sicurezza%20delle%20reti&amp;summary=Sicurezza%20delle%20reti&amp;source=https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sicurezza delle reti on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f&title=Sicurezza%20delle%20reti">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sicurezza delle reti on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sicurezza delle reti on whatsapp"
            href="https://api.whatsapp.com/send?text=Sicurezza%20delle%20reti%20-%20https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sicurezza delle reti on telegram"
            href="https://telegram.me/share/url?text=Sicurezza%20delle%20reti&amp;url=https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Sicurezza delle reti on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Sicurezza%20delle%20reti&u=https%3a%2f%2fflecart.github.io%2fnotes%2fsicurezza-delle-reti%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://flecart.github.io/">X. Angelo Huang&#39;s Blog</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
